[
  {
    "objectID": "whitepapers.html",
    "href": "whitepapers.html",
    "title": "Whitepapers",
    "section": "",
    "text": "Links & White Papers\nExam Topics - https://learningnetwork.cisco.com/s/enarsi-exam-topics\n\nWhite Papers from https://www.reddit.com/r/ccnp/comments/1jtt2lt/ccnp_enterprise_completed/\nBGP:\nhttps://www.cisco.com/c/en/us/support/docs/ip/border-gateway-protocol-bgp/200153-BGP-Route-Reflection-and-Multiple-Cluste.html\nhttps://www.cisco.com/c/en/us/support/docs/ip/border-gateway-protocol-bgp/25160-bgp-maximum-prefix.html#:~:text=The%20BGP%20Maximum%2DPrefix%20feature%20allows%20you%20to%20control%20how,the%20configured%20Maximum%2DPrefix%20limit\nhttps://journey2theccie.wordpress.com/2021/02/19/configuring-bgp-best-path-algorithm-on-cisco-ios-a-deep-dive/\nhttps://www.cisco.com/c/en/us/td/docs/ios-xml/ios/iproute_bgp/configuration/xe-16/irg-xe-16-book/configuring-internal-bgp-features.html\nhttps://www.cisco.com/c/en/us/support/docs/ip/border-gateway-protocol-bgp/13753-25.html\nhttps://www.cisco.com/c/en/us/support/docs/ip/border-gateway-protocol-bgp/5242-bgp-ospf-redis.html\nhttps://www.cisco.com/c/en/us/support/docs/ip/border-gateway-protocol-bgp/5242-bgp-ospf-redis.html#anc17\nhttps://www.cisco.com/c/en/us/support/docs/ip/border-gateway-protocol-bgp/26634-bgp-toc.html#toc-hId--463182681\nhttps://www.cisco.com/c/en/us/support/docs/ip/border-gateway-protocol-bgp/5816-bgpfaq-5816.html#nineteen\nEIGRP:\nhttps://www.cisco.com/c/en/us/td/docs/ios-xml/ios/iproute_eigrp/command/ire-cr-book/ire-i1.html#wp3835409071\nhttps://www.cisco.com/en/US/technologies/tk648/tk365/technologies_white_paper0900aecd8023df6f.html\nhttps://www.cisco.com/c/en/us/td/docs/ios-xml/ios/iproute_eigrp/configuration/xe-3s/asr1000/ire-xe-3s-asr1000/ire-ipfrr.html#:~:text=Shared%20Risk%20Link,group%20share%20risks\nhttps://www.cisco.com/c/en/us/td/docs/ios-xml/ios/iproute_eigrp/configuration/xe-3se/3650/ire-xe-3se-3650-book/ire-eigrp-stub-rtg.pdf\nhttps://www.cisco.com/c/en/us/support/docs/ip/enhanced-interior-gateway-routing-protocol-eigrp/221548-configure-eigrp-to-influence-path-select.html\nOSPF:\nhttps://www.cisco.com/c/en/us/support/docs/ip/open-shortest-path-first-ospf/6208-nssa.html\nhttps://www.cisco.com/en/US/docs/ios-xml/ios/ipv6/configuration/15-1sg/ip6-ospf.html\nhttps://www.cisco.com/c/en/us/td/docs/ios-xml/ios/iproute_ospf/configuration/xe-16/iro-xe-16-book/iro-sham-link.html\nhttps://www.cisco.com/c/en/us/support/docs/ip/open-shortest-path-first-ospf/13684-12.html\nhttps://www.cisco.com/c/en/us/support/docs/ip/open-shortest-path-first-ospf/13703-8.html#toc-hId-358006861\nhttps://www.cisco.com/c/en/us/support/docs/ip/open-shortest-path-first-ospf/13685-13.html\nInfrastructure Security:\nhttps://www.cisco.com/c/en/us/td/docs/ios/12_0s/feature/guide/fs_bfd.html#wp1053332\nhttps://www.cisco.com/en/US/technologies/tk648/tk365/tk480/technologies_white_paper0900aecd80244005.html\nhttps://www.cisco.com/c/en/us/td/docs/ios-xml/ios/debug/command/a1/db-a1-cr-book/db-a1.html#wp4169369695\nhttps://www.cisco.com/c/en/us/support/docs/security-vpn/secure-shell-ssh/4145-ssh.html\nhttps://www.cisco.com/c/en/us/td/docs/ios-xml/ios/ipaddr_dhcp/configuration/15-sy/dhcp-15-sy-book/ip6-dhcpv6-guard.pdf\nhttps://www.cisco.com/c/en/us/support/docs/ip/access-lists/13608-21.html#anc13\nhttps://www.cisco.com/c/en/us/td/docs/ios-xml/ios/ipv6_fhsec/configuration/xe-3e/ip6f-xe-3e-book/ip6f-xe-3e-book_chapter_0110.pdf\nhttps://www.cisco.com/c/en/us/td/docs/ios-xml/ios/qos_conavd/configuration/xe-3s/qos-conavd-xe-3s-book/qos-conavd-wred-ecn.html#GUID-BA921D9F-ED71-4246-8911-65617C718D06\nhttps://www.cisco.com/c/en/us/td/docs/ios-xml/ios/snmp/configuration/xe-3se/3850/snmp-xe-3se-3850-book/nm-snmp-snmpv3.html#GUID-1CC99199-5205-4099-BE12-06B9A9C202E2\nhttps://www.cisco.com/c/en/us/support/docs/dial-access/integrated-services-digital-networks-isdn-channel-associated-signaling-cas/10374-debug.html\nhttps://www.cisco.com/c/en/us/support/docs/lan-switching/spanning-tree-protocol-stp-8021d/218321-configure-stp-with-loop-guard-and-bpdu-s.html\nhttps://www.cisco.com/c/en/us/td/docs/routers/asr920/configuration/guide/sec-data-urpf/17-1-1/b-sec-data-urpf-xe-17-1-asr920/b-sec-data-urpf-xe-17-1-asr920_chapter_00.html\nhttps://www.cisco.com/c/en/us/td/docs/ios-xml/ios/ipv6_fhsec/configuration/xe-16/ip6f-xe-16-book/ip6-src-guard.pdf\nhttps://www.cisco.com/c/en/us/td/docs/ios-xml/ios/ipv6_fhsec/configuration/15-s/ip6-fhs-bind-table.html\nhttps://www.cisco.com/c/en/us/td/docs/switches/lan/catalyst6500/ios/15-3SY/config_guide/sup6T/15_3_sy_swcg_6T/control_plane_policing_copp.pdf\nMPLS:\nhttps://www.cisco.com/c/en/us/td/docs/ios-xml/ios/mpls/command/mp-cr-book/mp-m2.html#wp1359271466\nhttps://www.cisco.com/c/en/us/td/docs/switches/datacenter/sw/5_x/nx-os/mpls/configuration/guide/mpls_cg/mp_mpls_overview.html#52246\nhttps://www.cisco.com/c/en/us/td/docs/net_mgmt/vpn_solutions_center/2-0/mpls/provisioning/guide/PGmpls1.html#wp1028584\nhttps://www.cisco.com/c/en/us/td/docs/ios-xml/ios/mp_basic/configuration/xe-16/mp-basic-xe-16-book.html\nhttps://www.cisco.com/c/en/us/support/docs/multiprotocol-label-switching-mpls/mpls/4649-mpls-faq-4649.html\nhttps://www.cisco.com/c/en/us/td/docs/routers/asr9000/software/asr9k-r7-5/lxvpn/configuration/guide/b-l3vpn-cg-asr9000-75x/implementing-generic-routing-encapsulation.html#concept_24E35446999A46D18AB6AA05DB70A560\nhttps://www.cisco.com/c/en/us/td/docs/ios/12_2sb/12_2sba/feature/guide/sbadpaut.html\nhttps://www.cisco.com/c/en/us/support/docs/multiprotocol-label-switching-mpls/mpls/12492-mpls-tsh.html\nhttps://www.cisco.com/c/en/us/td/docs/ios/mpls/configuration/guide/convert/mp_ldp_book/mp_ldp_overview.html\nPBR + Route-maps:\nhttps://howdoesinternetwork.com/2013/configuration-of-pbr-policy-based-routing\nhttps://www.cisco.com/c/en/us/td/docs/switches/lan/catalyst6500/ios/15-0SY/configuration/guide/15_0_sy_swcg/policy_based_routing_pbr.pdf\nhttps://www.cisco.com/c/en/us/support/docs/ip/border-gateway-protocol-bgp/49111-route-map-bestp.html\nhttps://www.cisco.com/c/en/us/td/docs/switches/lan/csbms/CBS_250_350/CLI/cbs-350-cli-/route-map-commands.pdf\nVPN:\nhttps://www.cisco.com/c/en/us/support/docs/security-vpn/ipsec-negotiation-ike-protocols/29240-dcmvpn.html\nhttps://www.cisco.com/en/US/docs/ios-xml/ios/ipv6/configuration/15-1sg/ip6-tunnel.html\nhttps://www.cisco.com/c/en/us/td/docs/ios-xml/ios/ipaddr_nhrp/configuration/xe-16-9/nhrp-xe-16-9-book/config-nhrp.html\nhttps://www.cisco.com/c/en/us/td/docs/routers/ios/config/17-x/ip-routing/b-ip-routing/m_ip6-mgre-tunls.html\nhttps://www.cisco.com/c/en/us/support/docs/ip/enhanced-interior-gateway-routing-protocol-eigrp/22327-gre-flap.html\nhttps://www.cisco.com/c/en/us/td/docs/ios-xml/ios/ipaddr_nhrp/configuration/xe-16/nhrp-xe-16-book.pdf\nMISC:\nhttps://www.cisco.com/c/en/us/td/docs/cloud-systems-management/network-automation-and-management/dna-center/2-3-3/install_guide/2ndgen/b_cisco_dna_center_install_guide_2_3_3_2ndGen/m_troubleshoot_deployment_2_3_3_2ndgen.html#task_c3x_ycw_sfb\nhttps://www.cisco.com/c/en/us/td/docs/ios/fundamentals/command/reference/cf_book/cf_r1.html#wp1030116\nhttps://www.cisco.com/c/en/us/td/docs/ios-xml/ios/iproute_pi/configuration/xe-16-11/iri-xe-16-11-book/iri-pi-event-damp.html\nhttps://www.cisco.com/c/en/us/td/docs/optical/15000r8_0/ethernet/454/guide/d80ether/r8vrf.pdf\nhttps://www.cisco.com/c/en/us/support/docs/smb/switches/cisco-550x-series-stackable-managed-switches/smb5797-configure-ip-sla-tracking-for-ipv4-static-routes-on-an-sg550.html",
    "crumbs": [
      "Whitepapers"
    ]
  },
  {
    "objectID": "uRPF.html",
    "href": "uRPF.html",
    "title": "uRFP",
    "section": "",
    "text": "Unicast Reverse Path Forwarding\nSecurity mechanism to inspect and validate source IP of packet by checking return path in\nRequires CEF to be enabled\nStops router pinging itself when enabled (can be permitted using allow-self-ping flag\nConfigured per Interface",
    "crumbs": [
      "CCNP ENARSI",
      "Infrastructure Security",
      "uRFP"
    ]
  },
  {
    "objectID": "uRPF.html#general-info",
    "href": "uRPF.html#general-info",
    "title": "uRFP",
    "section": "",
    "text": "Unicast Reverse Path Forwarding\nSecurity mechanism to inspect and validate source IP of packet by checking return path in\nRequires CEF to be enabled\nStops router pinging itself when enabled (can be permitted using allow-self-ping flag\nConfigured per Interface",
    "crumbs": [
      "CCNP ENARSI",
      "Infrastructure Security",
      "uRFP"
    ]
  },
  {
    "objectID": "uRPF.html#urpf-modes",
    "href": "uRPF.html#urpf-modes",
    "title": "uRFP",
    "section": "uRPF Modes",
    "text": "uRPF Modes\n\nStrict mode\n\nIf the return path to the source IP of the traffic does not match the ingress interface, the traffic will be discarded\nConfigured with the rx flag on the ip verify unicast source command\n\nLoose mode\n\nIf a return path to the source IP of the traffic does not exist in the routing table, the traffic will be discarded\nConfigured with the any flag on the ip verify unicast source command\n\nAllow-default\n\nUsed to allow a default route to be used as a return path - by default this is not allowed with uRPF\nConfigured with the allow-default flag on the ip verify unicast source command",
    "crumbs": [
      "CCNP ENARSI",
      "Infrastructure Security",
      "uRFP"
    ]
  },
  {
    "objectID": "uRPF.html#useful-show-commands",
    "href": "uRPF.html#useful-show-commands",
    "title": "uRFP",
    "section": "Useful Show Commands",
    "text": "Useful Show Commands\n\nshow ip traffic - shows drops\nshow cef interface [int] - shows whether uRPF & CEF are enabled",
    "crumbs": [
      "CCNP ENARSI",
      "Infrastructure Security",
      "uRFP"
    ]
  },
  {
    "objectID": "uRPF.html#standard-config",
    "href": "uRPF.html#standard-config",
    "title": "uRFP",
    "section": "Standard Config",
    "text": "Standard Config\nint gi0/1\nip verify unicast source reachable-via [rx | any] [allow-default]",
    "crumbs": [
      "CCNP ENARSI",
      "Infrastructure Security",
      "uRFP"
    ]
  },
  {
    "objectID": "snmp.html",
    "href": "snmp.html",
    "title": "SNMP",
    "section": "",
    "text": "SNMP\n\nV2 - old, uses community string on both ends for config (not encrypted, transferred in plaintext\nV3 - newer, supports more advanced authentication & encryption\nSNMP traps unreliable (no confirmation required from receiving server).\nSNMP informs are reliable (must be confirmed by receiving server).\n\n`Ifindex persist` - Prevents SNMP index ID’s from changing after reboot (if components are added etc.)  keeps consistency of mapped\n\n\nUseful Show commands\nshow snmp host - Displays the SNMP notifications sent as traps, the version of SNMP, and the host IP address of the notifications\nshow snmp group - Displays SNMP group information (v3)\nshow snmp user - Displays SNMP user information (v3)\n\n\n\nStandard SNMP v2c Config\nsnmp ifmib ifindex persist\\\nsnmp-server location \\&lt;location\\&gt;\\\nsnmp-server contact \\&lt;contact-details\\&gt;\\\nsnmp-server community \\&lt;community-string\\&gt; \\[RO\\|RW\\] \\[ACL\\]\\\nsnmp-server enable traps\\                                                            ! Enables all traps\nsnmp-server host 10.1.100.100 \\[traps\\|informs\\] version 2c \\&lt;community-string\\&gt;\nsnmp-server enable traps ospf                                                        ! Enables specific traps for SNMP for example\n\n\nStandard SNMP v3 Config\nsnmp ifmib ifindex persist\\\nsnmp-server location \\&lt;location\\&gt;\\\nsnmp-server contact \\&lt;contact-details\\&gt;\\\nno snmp-server system-shutdown                                     ! prevents device being shutdown via SNMP\\\nsnmp-server view \\&lt;view-name\\&gt; iso included                        ! iso included allows all values\\\nsnmp-server group \\&lt;group-name\\&gt; v3 priv read \\&lt;view-name\\&gt; write \\&lt;view-name\\&gt;\\\nsnmp-server user \\&lt;user-name\\&gt; \\&lt;group-name\\&gt; v3 auth sha \\&lt;password\\&gt; priv aes 256 \\&lt;password\\&gt;\\\nsnmp-server host 10.1.100.100 version 3 priv \\&lt;user-name\\&gt;",
    "crumbs": [
      "CCNP ENARSI",
      "Infrastructure Services",
      "SNMP"
    ]
  },
  {
    "objectID": "redistribution.html",
    "href": "redistribution.html",
    "title": "Redistribution",
    "section": "",
    "text": "Configured under Destination Protocol, specifying source protocol.\nRedistribution is NOT transitive on a single router.\n\nR1 redistributes protocol 1 into protocol 2 and protocol 2 into protocol 3 - p3 won’t receive P1’s routes.\n\nRedistribution between EIGRP to EIGRP or OSPF to OSPF preserves the path metrics\nSequential Protocol Redistribution is possible\n\nRedistribution over multiple protocols using multiple routers.\n\nRoutes must exist in RIB\nSeed metric used to allow calculation of metric from Source Protocol\n\nEIGRP/RIP = Infinity (not installed into EIGRP topology table\nOSPF = 20 (1 for BGP)\nBGP = Uses IGP metric\n\nredistribute {connected | static | eigrp AS number | OSPF Process ID  [match {internal | external [1|2] } ] | BGP AS-number} [destination-protcol-options] [route-map RM NAME]\nInto OSPF = subnets allows classless networks to be redistributes",
    "crumbs": [
      "CCNP ENARSI",
      "Layer 3 Technologies",
      "Redistribution"
    ]
  },
  {
    "objectID": "redistribution.html#general-info",
    "href": "redistribution.html#general-info",
    "title": "Redistribution",
    "section": "",
    "text": "Configured under Destination Protocol, specifying source protocol.\nRedistribution is NOT transitive on a single router.\n\nR1 redistributes protocol 1 into protocol 2 and protocol 2 into protocol 3 - p3 won’t receive P1’s routes.\n\nRedistribution between EIGRP to EIGRP or OSPF to OSPF preserves the path metrics\nSequential Protocol Redistribution is possible\n\nRedistribution over multiple protocols using multiple routers.\n\nRoutes must exist in RIB\nSeed metric used to allow calculation of metric from Source Protocol\n\nEIGRP/RIP = Infinity (not installed into EIGRP topology table\nOSPF = 20 (1 for BGP)\nBGP = Uses IGP metric\n\nredistribute {connected | static | eigrp AS number | OSPF Process ID  [match {internal | external [1|2] } ] | BGP AS-number} [destination-protcol-options] [route-map RM NAME]\nInto OSPF = subnets allows classless networks to be redistributes",
    "crumbs": [
      "CCNP ENARSI",
      "Layer 3 Technologies",
      "Redistribution"
    ]
  },
  {
    "objectID": "redistribution.html#per-protocol-info",
    "href": "redistribution.html#per-protocol-info",
    "title": "Redistribution",
    "section": "Per Protocol Info",
    "text": "Per Protocol Info\n\nEIGRP\n\nRedistribution configurable anywhere in topology\nRedistributed routes marked as External (AD 170)\n\nIf from another routing protocol\nOR, a redistributed Static Route\n\nDefault Metric = Infinity so not installed, MUST configure metric as follows for OSPF/BGP redist, not required for static + connected\n\nSet under router EIGRP config\nunder address-family config\nwithin redistribute config line\nwith Route Map (PREFERRED if multiple are configured, then distribute command metric then default-metric)\n\nRedistributed Static Routes appear in neighbors route tables as Externals.\n\n\n\nOSPF\n\nRedistribution can happen anywhere except aside from stubby, totally stubby networks - redistributing router becomes ASBR and has type 4 LSA advertised to any areas outside of its own local area to ensure reachability to border router\nExternal routes will be Type 5 LSA in regular area, Type 7LSA in NSSA and translated to type 5 at ABR\nBy default routes will be external type 2, e1 always preferred over e2 in OSPF algorithm\nMust use the subnets flag or only classful routes will be redistributed.\n\n\n\nBGP\n\nNo seed metric required\nDon’t redistribute eBGP into IGP as they can’t handle the volume of routes\nUse bgp redistribute-internal to force BGP to redistribute iBGP routers into another IGP\nOrigin set to incomplete, Weight to 32768, MED to path metric of source protocol\nRedistribution from OSPF to BGP doesn’t include OSPF External routes by default\n\nmust user match external [1|2] to redistribute OSPF externals\nNote if you use external only this ONLY redistributes externals.",
    "crumbs": [
      "CCNP ENARSI",
      "Layer 3 Technologies",
      "Redistribution"
    ]
  },
  {
    "objectID": "redistribution.html#configuration",
    "href": "redistribution.html#configuration",
    "title": "Redistribution",
    "section": "Configuration",
    "text": "Configuration\n\nRoute Map\n\n\nEIGRP\nrouter eigrp 100\n default-metric 1000000 1 255 1 1500\n network 10.23.1.0 0.0.0.255\n redistribute ospf 1\n distance 165 10.1.1.1 0.0.0.0                                       (Changes AD for external (redistributed) routes)\n distance 165 170                                                   (sets AD for internal then external routes)\n-------------------------------------\n\nrouter eigrp EIGRP-NAMED\n addres-family ipv4\n  default-metric 1000000 1 255 1 1500\n  redistribute ospf 1\n exit-af-topology\n network 10.23.1.0 0.0.0.255\n-------------------------------------\n\nrouter eigrp EIGRP-NAMED\n addres-family ipv4\n  redistribute bgp 65100 metric 1000000 1 255 1 1500\n exit-af-topology\n network 10.23.1.0 0.0.0.255\n-------------------------------------\n\n!!! With Route Map Setting Metric !!!\nrouter eigrp 100\n network 10.23.1.0 0.0.0.255\n redistribute ospf 1 route-map OSPF-2-EIGRP\n \nroute-map OSPF-2-EIGRP permit 10\n set metric 1000000 1 255 1 1500\n\n\nOSPF\nrouter ospf 2\n network 10.41.1.0 0.0.0.255 area 0\n redistribute eigrp 100 subnets                             (allows classless network redistribution from EIGRP)\n distance ospf external 171                                 ! for AD manipulation if required\n \n \n\n\nBGP\nrouter bgp 65100\n  address-family ipv4\n    redistribute connected route-map RM-LOOPBACK\n!\nroute-map RM-LOOPBACK\n  match interface Loopback0\n  \n----\nredistribute connected / static etc.\nredistrivute ospf 100 match external 1 external 2                                               - Redistributes OSPF E1 + E2\n\ndistance bgp external-ad internal-ad local-routes             Sets AD for network types\ndistance AD source-ip source-wildcardmask                     Sets AD of routes learned from IP",
    "crumbs": [
      "CCNP ENARSI",
      "Layer 3 Technologies",
      "Redistribution"
    ]
  },
  {
    "objectID": "redistribution.html#useful-show-commands",
    "href": "redistribution.html#useful-show-commands",
    "title": "Redistribution",
    "section": "Useful Show Commands",
    "text": "Useful Show Commands\nshow ip protocol - shows redistribution under each protocol\nshow ip route profile -",
    "crumbs": [
      "CCNP ENARSI",
      "Layer 3 Technologies",
      "Redistribution"
    ]
  },
  {
    "objectID": "netflow.html",
    "href": "netflow.html",
    "title": "Netflow",
    "section": "",
    "text": "General\n\nNetflow is a tool to observce traffic flows in the network\nOriginal Netlow used fixed 7 Tuples of info\nA Flow is a series of packets with shared head information such as:\n\nsource/destination IP\nprotocol numbers\nport numbers\nType of Service (ToS) field information.\ningress/egress interface\nQoS\nAll entering the same interface on the device.\n\nNetflow data is stored on local device’s flow cache and can be viewed on CLI\nOnce flow is inactive for (default) 15 seconds it can be removed from the cache and exported to a collector.\nFlows removed after max age expires (Default 30 minutes)\n\n\n\nFlexible Netflow\n\nCan determine traffic in the same was as Netflow + more. things simultaneously\nRequires CEF (Cisco Express Forwarding) to be enabled\nFlexible netflow\nUsed to allow more customization of the traffic parameters to be captured\n\nConsists of records, exporters, samplers and monitors\nRecords\n\nDefine what parameters will be captured by netflow\nCan use pre-defined records or define your own\n\nExporters\n\nUsed to set up exportation of the netflow information to the flow collector\n\nSamplers\n\nUsed to limit the number of monitored packets if desired for performance reasons\n\nMonitors\n\nUsed to apply netflow records to desired interfaces\nReferences specific flow record and flow exporter\n\n\n\nCONFIG STEPS (REMMI)\n1) Configure Flow Record\n2) Configur Flow Exporter\n3) Configure Flow Monitor\n4) Apply Flow Monitor to interface.\n\n\n\nUseful Show + Other Commands\n\nshow ip cache flow - shows contents of local router flow cache\nshow ip flow interface - used to verify netflow enabled interfaces and direction of capture\nshow ip flow export - used to verify export source and destination details\nip flow-cache entries [number] - change the size of the flow cache (if it’s filling up often\nip flow-cache timeout active [minutes] - used to modify the max age of a flow.\nip flow-cache timeout inactive [seconds] - used to modify idle timer (default 15 seconds)\nclear ip flow stats - clears netflow statistics from device.\n\n\n\n\nFlexible Netflow\n\nshow flow record - used to verify match and collect conditions of the flow record\nshow running-config flow record - also can show this info\nshow flow monitor - used to verify which pre-defined’ flow record is being used.\n\n\n\n\nStandard Netflow Config\nint fa 0/0\n ip flow [ingress|egress]\n exit\nip flow-export source lo 0\nip flow-export version [5|9]\nip flow-export destination &lt;collector-ip&gt; 5000\n\n\nFlexible Netflow Config\nflow exporter EXPORTER\n destination &lt;Collector-IP&gt;\n export-protocol netflow-v9\n source Vlan100\n transport udp 2055\n!\nflow record RECORD\n match ipv4 tos\n match ipv4 protocol\n match ipv4 source address\n match ipv4 destination address\n match transport source-port\n match transport destination-port\n match interface input\n collect interface output\n collect counter bytes\n collect counter packets\n!\nflow monitor IPv4_NETFLOW\n record RECORD\n exporter EXPORTER\n cache timeout active 60\n!\ninterface fa0/0\n ip flow monitor IPv4_NETFLOW input",
    "crumbs": [
      "CCNP ENARSI",
      "Infrastructure Services",
      "Netflow"
    ]
  },
  {
    "objectID": "misc.html",
    "href": "misc.html",
    "title": "Misc",
    "section": "",
    "text": "SPT Loopguard protects against L2 loops, enabled per port.\n\nIf non designated port stops receiving BPDUs, loopguard moves the port to “STP Loop-inconsistent blocking state, rather than listening/learning/forwarding which would cause a loop.\nOnce BPDU received again the port is transitioned and doesn’t require intervention.\n\nDHCP Option 82 - Relay Agent Information Option\n\nIncreases DHCP security by enabling identification of request sources and,\nallows address allocation based on network topology or client device characteristics.\nWhen DHCP Snooping + IP Source Guard enabled - DHCP server must support option 82.\n\nEnable: ip dhcp snooping information option\n\n\nDHCP Option 66 - next-server option - ip/hostname of TFTP or HTTP server for client to download files from.\nOSPF - Advertising Loopbacks - default mask /32, to show the configured subnet mask change the loopbacks network type to “point-to-point”\nRoute Target - Appended to VPNv4 BGP route to indicate membership MP-BGP VPN\nRoute Distinguisher - Pre-pended to IP Address to create globally unique VPNv4 Address\nLogging Synchronous All - Unsolicited messages appear after solicited.\naaa authorization console is disabled by default\nBy default, only internal OSPF routes are redistributed into BGP\nSNMP - snmp trap link-status permit duplicates - generates traps when link is flapping chronically. MUST be configured on interface\ninterface g0/0\n snmp trap link-status permit duplicates\nLog Timestamps - when no log/debug keyword specified (service timestamps) - it’s like issuing service timestamps debug uptime applied be default - shows UPTIME\nBGP learned route RIB Failure (r)\n\nWe have a better route in our routing table (static perhaps)\nWe can’t reach the next hop associated with that route (neighbour advertising route with different next hop that itself. )\n\nLDP Extended Discovery Message - Unicast message used to find and establish session with LDP Neighbour (LSR) not directly reachable via multiast hello’s.\ndebug CEF interface - debugs events related to CEF\n\nPlanes\n\nManagement Plane - Anything which is used to manage the device\nData Plane - switching frames/routing packets.\n\nServices Plane (Subset of Data) - facilitates encapsulation of user data into tunnels (QoS, MPLS VPNs, IPSec Tunnels, GRE Tunnels)\n\nControl Plane - Controls that facilitates the learning of destinations, prefixes, MAC Addresses (IP/IPv6 addresses, MAC, ARP, IPv6 Neighbour discovery)",
    "crumbs": [
      "Misc"
    ]
  },
  {
    "objectID": "ipv6sec.html",
    "href": "ipv6sec.html",
    "title": "IPv6 Sec",
    "section": "",
    "text": "Designed to increase L2 security in IPv6 LANs\nNo broadcasts, but certain packets almost always flooded in IPv6 networks\n\nFF02::1 (All IPv6 hosts)\nFF02::2 (All IPv6 routers)\n\nFirst-hop security features assist in preventing exploits around common multicast addresses used by NDP, DHCPv6\n\nPolicies configured un [protocol] config mode then applied to interface",
    "crumbs": [
      "CCNP ENARSI",
      "Infrastructure Security",
      "IPv6 Sec"
    ]
  },
  {
    "objectID": "ipv6sec.html#general-info",
    "href": "ipv6sec.html#general-info",
    "title": "IPv6 Sec",
    "section": "",
    "text": "Designed to increase L2 security in IPv6 LANs\nNo broadcasts, but certain packets almost always flooded in IPv6 networks\n\nFF02::1 (All IPv6 hosts)\nFF02::2 (All IPv6 routers)\n\nFirst-hop security features assist in preventing exploits around common multicast addresses used by NDP, DHCPv6\n\nPolicies configured un [protocol] config mode then applied to interface",
    "crumbs": [
      "CCNP ENARSI",
      "Infrastructure Security",
      "IPv6 Sec"
    ]
  },
  {
    "objectID": "ipv6sec.html#features",
    "href": "ipv6sec.html#features",
    "title": "IPv6 Sec",
    "section": "Features",
    "text": "Features\n\nRA Guard (Router Advertisement)\n\nRA guard inspects incoming RA messages, filtering when configured\nConfigure with ipv6 nd raguard attach-policy [policy-name] inbound on interface\nConfigured inbound on an interface\n2 modes ( Host & Router)\nDoesn’t work on Tunnelled Traffic and requires TCAM\nDoesn’t work on Ether-channel members or trunks with merge mode\n\nDHCPV6 Guard\n\nDHCP snooping for IPv6\nClassifies Messages into client, server or relay.\n\nAll Client messages are switched, server messages switches if router role = server\n\nConfigured with ipv6 dhcp guard attach-policy [policy] on interface\nCan mitigate DoS attacks\n\nIPv6 Snooping\n\nCreates an IPv6 Binding table - database on each router which holds neighbour information (IP + Prefix) which is used by the following IPv6 security protocols\nGlean populates bind table without verifying messages\nInspect gleans addresses and validates messages\nGuard gleans and inspects messages, drops RA and DHCP messages by default\nConfigured as follows:\n\nipv6 snooping policy [name]\n security-level [glean|inspect|guard]\n!\nint gi0/0\n ipv6 snooping attach-policy [name]\nND inspection\n\nInspects neighbor discovery messages and adds entries to the binding table.\nDrops messagesfrom hosts that already exist in the bind table but on different hardware addresses, preventing address spoofing\nRelies on IPv6 snooping\nConfigured with ipv6 nd inspection under interfaces\n\nSource Guard\n\nSnooping tool for validating source of IPv6 traffic - if traffic arriving is from an unknown source it can be blocked & dropped\n\nSource IP must be in the DHCP Binding table.\n\nSource learned via ND Inspection or GLEANING process - relies on IPv6 Snooping being configured on L2access, trunk ports and VLANS\nConfigured with ipv6 source-guard under interfaces\n\nDestination Guard\n\nCan filter based on Destination. Also requires binding table to be populated.\nBlocks traffic coming for an unknown destination\n\nPrefix Guard\n\nUsed on Ingress interface to deny traffic that has a correct address but is not topologically correct.\nConfigured with ipv6 source-guard under interface",
    "crumbs": [
      "CCNP ENARSI",
      "Infrastructure Security",
      "IPv6 Sec"
    ]
  },
  {
    "objectID": "ipv6sec.html#configuration",
    "href": "ipv6sec.html#configuration",
    "title": "IPv6 Sec",
    "section": "Configuration",
    "text": "Configuration\n\nStandard RA Guard Config\nipv6 nd raguard policy &lt;policy-name&gt;  \n device-role host \nint gi0/0  \n ipv6 nd raguard attach-policy &lt;policy-name&gt; \n! \n! This will block all RAs on this port\n\n\nStandard DHCP v6 Guard Config\nipv6 dhcp guard policy DHCP_SERVER  \n device-role server \nipv6 dhcp guard policy DHCP_CLIENT  device-role client \n! \ninterface GigabitEthernet 0/1  \n ipv6 dhcp guard attach-policy DHCP_SERVER\ninterface range GigabitEthernet 0/2 - 3\n ipv6 dhcp guard attach-policy DHCP_CLIENT \n! \n!This will only allow DHCP offers from the server ports",
    "crumbs": [
      "CCNP ENARSI",
      "Infrastructure Security",
      "IPv6 Sec"
    ]
  },
  {
    "objectID": "ipsla+track.html",
    "href": "ipsla+track.html",
    "title": "IP SLA & Tracking",
    "section": "",
    "text": "IP-SLA is used to measure various parameters across the network for troubleshooting\n\nIP SLA instances\nInterface Status / Reachability\nJitter / latency\nGroups of things\n\nUsed commonly for floating static default route (routes internet across different link if one fails.\nGreat example below from Brunbattery on using it to monitor HSRP.",
    "crumbs": [
      "CCNP ENARSI",
      "Infrastructure Services",
      "IP SLA & Tracking"
    ]
  },
  {
    "objectID": "ipsla+track.html#useful-show-commands",
    "href": "ipsla+track.html#useful-show-commands",
    "title": "IP SLA & Tracking",
    "section": "Useful Show Commands",
    "text": "Useful Show Commands\n\nshow ip sla configuration - shows config of all IP SLA’s\nshow ip sla statistics -show ip sla statistics\nshow track - shows config and status of tracked objects (e.g. floating statics)",
    "crumbs": [
      "CCNP ENARSI",
      "Infrastructure Services",
      "IP SLA & Tracking"
    ]
  },
  {
    "objectID": "ipsla+track.html#configuration-of-floating-static-using-ip-sla",
    "href": "ipsla+track.html#configuration-of-floating-static-using-ip-sla",
    "title": "IP SLA & Tracking",
    "section": "Configuration of Floating Static using IP SLA",
    "text": "Configuration of Floating Static using IP SLA\nip sla 1 \n icmp-echo 10.44.1.2                                    - pings 10.44.1.2\n timeout 5000                                           - expecting a response within 5000ms\n frequency 10                                           - every 10 seconds\n!\nip sla schedule 1 start-time now life forever          - starts IP SLA\n!\ntrack 1 ip sla 1 reachability                          - tracks whether ip-sla dest is reachable\nip route 0.0.0.0 0.0.0.0 10.44.1.2 track 1             - the route is installed when Track 1 condition is met\nNOTE - If no life specified the operation will run for 3600 seconds (1 Hour)",
    "crumbs": [
      "CCNP ENARSI",
      "Infrastructure Services",
      "IP SLA & Tracking"
    ]
  },
  {
    "objectID": "ipsla+track.html#brunbatterys-awesome-ipsla-w-track-for-hsrp",
    "href": "ipsla+track.html#brunbatterys-awesome-ipsla-w-track-for-hsrp",
    "title": "IP SLA & Tracking",
    "section": "BrunBattery’s awesome IPSLA w/ Track for HSRP",
    "text": "BrunBattery’s awesome IPSLA w/ Track for HSRP\n! Tracking line protocols of WAN interfaces\ntrack 11 interface GigabitEthernet8 line-protocol\ntrack 12 interface FastEthernet0 line-protocol\n! Tracking ip routing status of tunnel interfaces for backup route\ntrack 21 interface Tunnel1 ip routing\ntrack 22 interface Tunnel2 ip routing\n! Track 23 will be up if both tunnels are not routing - set up for backup route to be installed\ntrack 23 list boolean and\n object 21 not\n object 22 not\n! Tracking for IP SLA 101\ntrack 100 ip sla 101 reachability\n delay down 15 up 60\n! Decrementing HSRP based on IP SLA and line protocols of WAN interfaces\nint vlan 100\n standby 1 track 11 decrement 10\n standby 1 track 12 decrement 10\n standby 1 track 100 decrement 10\n! Routing management traffic to secondary router if neither tunnel is routing\nip route 10.100.100.0 255.255.255.0 10.1.174.253 track 23\n! Testing reachability over DMVPN overlay and starting SLA\nip sla 101\n icmp-echo 172.16.1.254 source-interface Tunnel1\n request-data-size 100\n frequency 5\nip sla schedule 101 life forever start-time now",
    "crumbs": [
      "CCNP ENARSI",
      "Infrastructure Services",
      "IP SLA & Tracking"
    ]
  },
  {
    "objectID": "gre+ipsec.html",
    "href": "gre+ipsec.html",
    "title": "GRE & IPsec",
    "section": "",
    "text": "General Notes\n\nGRE\n\nStands for Generic Route Encapsulation\nTunneling method that can tunnel many different protocols inside GRE header\nUsed as default encapsulation method for Cisco tunnel interfaces\nIP protocol type 47 used in IP header\n\nSecurity features of IPSec\n\nData origin authentication\n\nVerifying where packet came from\n\nData integrity\n\nEnsuring packet wasn’t changed in transit\n\nConfidentiality\n\nEncryption, preventing packet from being intercepted and read\nPrevented by limited allowed window\n\nConfidentiality is the mainly thought-of core feature\n\nIPSec uses symmetric key encryption\nPoint-to-point tunnels in almost all cases, GETVPN can be P2MP\nTunnel keys dynamically negotiated through IKE\nIKEv2 is superior but not supported by all platforms\n\n\nPhases\n\nPhase one establishes ISAKMP SA, secure tunnel to negotiate phase two through\nPhase two establishes IPsec SA, tunnel used to protect actual data traffic\nIn Phase 1:\n\nAuthentication either PSK (Pre-shared key) or certificate based\nDH used to exchange crypto keys\n\nHigher DH group number is more secure\n\nEncryption algorithms used to protect traffic\n\nPossibilities include DES, 3DES, AES-128, AES-256, etc\n\nHash algorithm used to ensure packet wasn’t modified in transit\n\nIKEv1 supports MD5, SHA-1\n\nTunnel lifetime is negotiated\nIKE parameters must match in order for phase 1 to complete successfully\nMain mode and aggressive mode both options for completing this step\n\nMain mode preferred as aggressive has security issues\n\n\nIn Phase 2, following are negotiated:\n\nSecurity protocol\n\nESP (Encapsulating Security Payload) or AH (Authentication Header)\nAH does not support encryption, rarely used\n\nEncapsulation modes\n\nTunnel or transport\nTunnel adds new IP header, used for actually tunneling traffic\nTransport mode used for host-to-host applications or combined with GRE which does the tunnelling itself\n\nEncryption (used for actual data traffic, not just tunnel)\n\nDES, 3DES, AES-128, AES-256, etc\n\nAuthentication (hashing)\n\nMD5, SHA, etc\n\nCombination of the above called IPsec Transform Set\nOnly performed in QM (quick mode)\n\nUDP 500 (ISAKMP), 4500 (NAT-T) are ports used to establish control plane\n\n4500 is only used with NAT-T2\n\nIPsec data plane uses IP protocol 50 (ESP), 51 (AH) in the IP header\n\n\n\n\n\nConfiguration Reminder - HAGLE\n\n1.Configure Crypto ISAKMP Policy (HAGLE)\n\nH - Hash\nA - Authentication\nG - Group (Diffe Helman)\nL - lifetime\nE - Encryption\n\n2.Configure Crypto ISAKMP Key\n\npre-shared key\nspecify Peer IP for which to use the key (Physical interface)\n\n3.Configure Crypto IPsec Transform-Set\n\nspecify phase-2 encryption parameters\nconfig of tunnel mode (transport preferred\n\n4.Configuration of Crypto IPsec Profile\n\nChange SA lifetime from default (if desired)\nReference crypto transform-set\n\n5.Tunnel protection on Tunnel Interface*\n\nReference Crypto IPsec Profile and applies it to Tunnel Interface\n\n\n\n\nUseful show/debug commands\n\nPhase 1:\n\nshow crypto isakmp sa - should show QM_IDLE as state and status as ACTIVE\ndebug crypto isakmp, or debug crypto condition peer ipv4 &lt;IP&gt; to debug for one specific peer\n\nPhase 2:\n\nshow crypto ipsec sa [&lt;peer IP&gt;]\ndebug crypto ipsec\n\n\n\n\nCrypto Profile IPSec Config w/ IKEv1 (with & without GRE) - HAGLE\ninterface Tunnel0    \n ip address &lt;ip & mask&gt;  \n tunnel source &lt;ip&gt;  \n tunnel destination &lt;ip&gt; \n \ncrypto isakmp policy 10  \n encryption aes 256  \n hash md5  \n authentication pre-share  \n group 14  \n lifetime 3600   \n!\ncrypto isakmp key &lt;PSK&gt; address &lt;remote outside interface IP with subnet mask&gt; \n! \ncrypto ipsec transform-set &lt;ts-name&gt; esp-3des esp-md5-hmac  \n mode transport \n!mode tunnel if using VTI \n\ncrypto ipsec profile &lt;profile-name&gt;  \n set transform-set &lt;ts-name&gt;     \n \ninterface Tunnel0\n tunnel protection ipsec profile &lt;profile-name&gt;  \n ip mtu 1400  \n ip tcp adjust-mss 1360 \n!optionally can define tunnel mode as ipsec to bypass GRE and use VTI - 'tunnel mode ipsec ipv4' \n!note that routing through tunnel must exist for ipsec sa to form - routing not included in config \n!can do underlay and overlay routing protocols, static routing, front door vrfs, many options\n\n\nCrypto Profile IPSec Config w/ IKEv2 (with & without GRE)\ninterface Tunnel0    \nip address &lt;ip & mask&gt;  \n tunnel source &lt;ip&gt;  \n tunnel destination &lt;ip&gt;      \ncrypto ikev2 keyring &lt;keyring-name&gt;  \n peer ANY  address 0.0.0.0 0.0.0.0 ! any host for DMVPN, specific host for site-to-site  \n pre-shared-key &lt;psk&gt; \n!\ncrypto ikev2 profile &lt;ike-prof-name&gt;  \n match identity remote address 0.0.0.0 ! any host for DMVPN, specific host for site-to-site  \n authentication remote pre-share  \n authentication local pre-share  \n keyring local &lt;keyring-name&gt; \n! \ncrypto ipsec transform-set &lt;ts-name&gt; esp-aes 256 esp-sha-hmac  \n mode transport  !mode tunnel if using VTI \n! \ncrypto ipsec profile &lt;profile-name&gt;  set transform-set &lt;ts-name&gt;  set ikev2-profile &lt;ike-prof-name&gt; \n!\ninterface Tunnel0 \n tunnel protection ipsec profile &lt;profile-name&gt;  !optionally can define tunnel mode as ipsec to bypass GRE and use VTI - 'tunnel mode ipsec ipv4'  \n\n!note that routing through tunnel must exist for ipsec sa to form - routing not included in config \n!can do underlay and overlay routing protocols, static routing, front door vrfs, \n\n\nCrypto Map IPSec Config w/ IKEv1 (with GRE)\ninterface Tunnel0\n ip address &lt;ip & mask&gt;  \n tunnel source &lt;ip&gt;  \n tunnel destination &lt;ip&gt;  \n ip mtu 1400  \n ip tcp adjust-mss 1360     \ncrypto isakmp policy 10  \n encryption aes 256  \n hash md5  \n authentication pre-share  \n group 14  \n lifetime 180   \n! \ncrypto isakmp key &lt;PSK&gt; address &lt;remote outside interface IP with 32 bit subnet mask&gt;  \n!\ncrypto ipsec transform-set &lt;ts-name&gt; esp-3des esp-md5-hmac  \n mode transport  \n! \naccess-list 120 permit gre host &lt;local outside interface ip&gt; host &lt;remote outside interface IP&gt;     \n\ncrypto map &lt;cm-name&gt; 10 ipsec-isakmp     \n set peer &lt;ip&gt;  \n set transform-set &lt;ts-name&gt;   \n match address 120       \n\ninterface Ethernet0/0\n crypto map &lt;cm-name&gt;",
    "crumbs": [
      "CCNP ENARSI",
      "VPN & Encryption",
      "GRE & IPsec"
    ]
  },
  {
    "objectID": "dmvpn.html",
    "href": "dmvpn.html",
    "title": "DMVPN",
    "section": "",
    "text": "Dynamic Multi Point VPN - DMVPN\nHighly scalable system to connect multiple sites using Hub-and-Spoke topology using mGRE (Multipoint Generic Routing Encapsulation)\n\nSpoke to Spoke Tunnels can be created on demand\n\nUses NHRP (Next Hop Resolution Protocol) - acts like DNS\n\nNHS (Next Hop Server) - configured on all spokes\nSpokes register their physical & tunnel interface IP’s with the NHS\nNHS Populates it’s NHRP Cache to maintain a database of it’s spokes\nSpokes can query the NHS to obtain the tunnel IP it needs to form direct tunnel.\n\nIP Protocol 47 - GRE\nIP Protocol 50 - ESP (Encapsulating Security Payload)\nIP Protocol 51 - AH Traffic (Authentication Header)",
    "crumbs": [
      "CCNP ENARSI",
      "VPN & Encryption",
      "DMVPN"
    ]
  },
  {
    "objectID": "dmvpn.html#general-info",
    "href": "dmvpn.html#general-info",
    "title": "DMVPN",
    "section": "",
    "text": "Dynamic Multi Point VPN - DMVPN\nHighly scalable system to connect multiple sites using Hub-and-Spoke topology using mGRE (Multipoint Generic Routing Encapsulation)\n\nSpoke to Spoke Tunnels can be created on demand\n\nUses NHRP (Next Hop Resolution Protocol) - acts like DNS\n\nNHS (Next Hop Server) - configured on all spokes\nSpokes register their physical & tunnel interface IP’s with the NHS\nNHS Populates it’s NHRP Cache to maintain a database of it’s spokes\nSpokes can query the NHS to obtain the tunnel IP it needs to form direct tunnel.\n\nIP Protocol 47 - GRE\nIP Protocol 50 - ESP (Encapsulating Security Payload)\nIP Protocol 51 - AH Traffic (Authentication Header)",
    "crumbs": [
      "CCNP ENARSI",
      "VPN & Encryption",
      "DMVPN"
    ]
  },
  {
    "objectID": "dmvpn.html#dmvpn-phases",
    "href": "dmvpn.html#dmvpn-phases",
    "title": "DMVPN",
    "section": "DMVPN Phases",
    "text": "DMVPN Phases\n\nPhase 1\n\nAll traffic between spokes must traverse Hub, no spoke-to-spoke.\n\nPhase 2\n\nAllows spoke-to-spoke traffic by making all tunnels (including spokes) multipoint\nThis allows spokes to form tunnels directly to each other\nMust not have routing protocol use next-hop-self or the tunnels will not form\nDoes NOT work with summarization - since the RIB will not have a route to the other spokes, all traffic will transit the hub\nIf using OSPF, network type must be broadcast or non-broadcast to prevent changing next-hops\n\nIn this scenario the spokes must be set at priority 0 to prevent them becoming DRs - if spokes become DRs the network will not function as they cannot multicast between each other\n\n\nPhase 3\n\nAllows spoke-to-spoke traffic by using NHRP redirect and shortcut commands that allow NHRP to rewrite next hops in the RIB\nMain benefit over phase 2 is allowing summarization from hubs to spokes - spokes will still be able to form tunnels to each other in phase 3 even with a default route from the hub",
    "crumbs": [
      "CCNP ENARSI",
      "VPN & Encryption",
      "DMVPN"
    ]
  },
  {
    "objectID": "dmvpn.html#useful-show-commands",
    "href": "dmvpn.html#useful-show-commands",
    "title": "DMVPN",
    "section": "Useful Show Commands",
    "text": "Useful Show Commands\n\nshow interface tunnel [number] - shows state of tunnel interface\nshow dmvpn [detail] - shows tunnel status, peers, up/down time, etc\nshow ip nhrp [brief] - shows NHRP cache, NHRP-specific details useful for phase 2, 3\nshow ip route next-hop-override - shows NH overrides for DMVPN phase 3\nshow ip cef [IP address] - shows how the switch will deal with this IP address - send to tunnel?\nshow crypto isakmp sa; show crypto ike2 sa; show crypto ipsec sa - for troubleshooting IPsec when used with DMVPN",
    "crumbs": [
      "CCNP ENARSI",
      "VPN & Encryption",
      "DMVPN"
    ]
  },
  {
    "objectID": "dmvpn.html#configuration",
    "href": "dmvpn.html#configuration",
    "title": "DMVPN",
    "section": "Configuration",
    "text": "Configuration\n\nDMVPN Phase 1 Configuration (No IPsec)\nHub Config\n! Essential \ninterface Tunnel100 \nip address 192.168.100.11 255.255.255.0 \nip nhrp map multicast dynamic \nip nhrp network-id 100 \ntunnel source GigabitEthernet0/1 \ntunnel mode gre multipoint \n\n! Discretionary \nbandwidth 4000 \nip mtu 1400 \nip tcp adjust-mss 1360 \nip nhrp authentication NHRPAUTH \nno ip split-horizon eigrp 100  ! necessary for EIGRP \ntunnel key 100                 ! necessary in multi-hub designs\nSpoke Config\ninterface Tunnel100 \nip address 192.168.100.31 255.255.255.0 \nip nhrp network-id 100 \nip nhrp nhs [Hub TunnelIP] nbma [Hub Public IP] multicast \ntunnel source GigabitEthernet0/1 \ntunnel destination [Hub Public IP]  \n\n! Discretionary \nbandwidth 4000 \nip mtu 1400 \nip tcp adjust-mss 1360 \nip nhrp authentication NHRPAUTH \ntunnel key 100                 ! necessary in multi-hub designs\n\n\nDMVPN Phase 2 Configuration (No IPsec)\nHub Config\n!same as Phase 1, but including:  \n\nno ip next-hop-self eigrp 100  \n\n!so that hub doesn't list itself as NH for spokes\nSpoke Config\n!same as Phase 1, but including:  \n\ntunnel mode gre multipoint  \n\n!so that spokes can form direct tunnels\n\n\nDMVPN Phase 3 Configuration (No IPsec)\nHub Config\n!same as Phase 1, but including:  \n\nip nhrp redirect  \n\n!so that hub will forward redirect messages to spokes after initial traffic,  allowing spoke-to-spoke tunnels to form\nSpoke Config\n!same as Phase 1, but including:  \n\nip nhrp shortcut \ntunnel mode gre multipoint  \n\n!to allow the spokes to install NHRP next hops into the routing table and form direct tunnels\n\n\nDMVPN IKEv1 IPsec Configuration\nVRFless\ncrypto isakmp policy 10  \n encr aes 128  \n hash sha256  \n authentication pre-share  \n group 16 \n!\ncrypto isakmp key DMVPN_PSK address 0.0.0.0   (Physical IP of whoever can use the key, 0.0.0.0 0.0.0.0 for anyone)\n! \ncrypto ipsec transform-set [ESP-AES-256-SHA-512] esp-aes 256 esp-sha512-hmac   \n mode transport \n! \ncrypto ipsec profile DMVPN_PROFILE\n set transform-set [ESP-AES-256-SHA-512] \n!\ninterface Tunnel0 \ntunnel protection ipsec profile DMVPN_PROFILE\nFVRF\n!same as above, but instead of crypto isakmp key: \n\ncrypto keyring VRF_AWARE_PSK vrf UNDERLAY_TRANSPORT    \n pre-shared-key address 0.0.0.0 0.0.0.0 key DMVPN_PSK\n\n\nDMVPN IKEv2 IPsec Configuration (See IPsec page for deep dive)\nVRFless\ncrypto ikev2 keyring DMVPN-KEYRING\n peer ANY \n  address 0.0.0.0 0.0.0.0               !(Any peer)\n  pre-shared-key CISCO456 \n! \ncrypto ikev2 profile DMVPN-IKE \n match identity remote address 0.0.0.0 \n authentication remote pre-share \n authentication local pre-share \n keyring local DMVPN-KEYRING \n! \ncrypto ipsec transform-set SET1 esp-aes 256 esp-sha-hmac \n mode transport \n! \ncrypto ipsec profile DMVPN-IPSEC \n set transform-set SET1 \n set ikev2-profile DMVPN-IKE \n!\ninterface Tunnel0 \n tunnel protection ipsec profile DMVPN-IPSEC\nFVRF\n!Same as above, but under crypto ikev2 profile:  match fvrf INET\n\n\nUsing FVRF with DMVPN\n\nSee VRF page for details on that",
    "crumbs": [
      "CCNP ENARSI",
      "VPN & Encryption",
      "DMVPN"
    ]
  },
  {
    "objectID": "device_management.html",
    "href": "device_management.html",
    "title": "Device Management",
    "section": "",
    "text": "9600 Baud\n8 data bits\n1 stop bit\nno parity\nGenerally no password by default. If line password is configured Login needs to be configured on the line.\nLogin Local - uses Local user DB Login authentication xxx - uses configured aaa servers.\n\n\n\n\n\nIs it Reachable?\nTransport protocols permitted with allowed protocols?\n\n\nTransport input \\[ssh/telnet\\]\nshow line vty \\[line number\\] \\| include Allowed\n\n\nAuth setup?\n\n\nLogin configured on line, line password configured\nLogin local configured - refer to local user DB • If Login specified but no password set -error - “Password required but none set”\n\n\nACL?\nVTY Lines Busy?\n\n“Show users” - will show active users\n“clear line [number]” used to clear a line\n\n\n\nUseful show commands\nShow users - will show active users\n\n\n\n\n(config)# exec -enables the line \n(config)# no exec -disables exec access to line line \n(config)# exec-timeout 5 0 -sets logout timer as 5 minutes of inactivity",
    "crumbs": [
      "CCNP ENARSI",
      "Infrastructure Services",
      "Device Management"
    ]
  },
  {
    "objectID": "device_management.html#console-line-connection-requirements",
    "href": "device_management.html#console-line-connection-requirements",
    "title": "Device Management",
    "section": "",
    "text": "9600 Baud\n8 data bits\n1 stop bit\nno parity\nGenerally no password by default. If line password is configured Login needs to be configured on the line.\nLogin Local - uses Local user DB Login authentication xxx - uses configured aaa servers.\n\n\n\n\n\nIs it Reachable?\nTransport protocols permitted with allowed protocols?\n\n\nTransport input \\[ssh/telnet\\]\nshow line vty \\[line number\\] \\| include Allowed\n\n\nAuth setup?\n\n\nLogin configured on line, line password configured\nLogin local configured - refer to local user DB • If Login specified but no password set -error - “Password required but none set”\n\n\nACL?\nVTY Lines Busy?\n\n“Show users” - will show active users\n“clear line [number]” used to clear a line\n\n\n\nUseful show commands\nShow users - will show active users",
    "crumbs": [
      "CCNP ENARSI",
      "Infrastructure Services",
      "Device Management"
    ]
  },
  {
    "objectID": "device_management.html#standard-line-config",
    "href": "device_management.html#standard-line-config",
    "title": "Device Management",
    "section": "",
    "text": "(config)# exec -enables the line \n(config)# no exec -disables exec access to line line \n(config)# exec-timeout 5 0 -sets logout timer as 5 minutes of inactivity",
    "crumbs": [
      "CCNP ENARSI",
      "Infrastructure Services",
      "Device Management"
    ]
  },
  {
    "objectID": "bgp.html",
    "href": "bgp.html",
    "title": "BGP",
    "section": "",
    "text": "Used TCP 179 to establish session. Unicast\nAdmin Distance: iBGP AD = 200, eBGP AD = 20\nUse of TCP allows for adjacencies with non directly connected neighbour.\nOnly Best route + next hop are advertised, not all routes.\nMulti-hop session require underlying routes from RIB (dynamic or static) Must explicitly configure neighbour relationships\n\nTCP session established\nAdvertises Address Prefix & Length (called Network Layer Reachability Information - NLRI)\n\nHold Time: 180s, Keepalive: 60s (1/3 ratio)\n\nAdjust under bgp process with timers bgp 5 20 - keepalive 5 / hold 20\n\nUses Address families to\nAFI/SAFI - Address & Subsequent Address Family Identifiers (ipv4 unicast etc).\nModern BGP sets DF bit (do not fragment) to prevent fragmentation.\nBGP RID - If not manually configured (which is recommended)\n\nHighest IP on Loopback int that’s up\nHighest IP on any other Interface thats up\n\nBGP Synchronisation - disabled on modern devices by default\n\nRULE: Only advertise routes learned from iBGP peer to an eBGP peer when there is an exact match of that route learned from an IGP in the routing table.\n\niBGP\n\nTTL = 255\nUses split horizon for loop prevention, requires full mesh of BGP routers inside single AS\n\nA route learned from 1 iBGP won’t be forwarded to another iBGP peer by default.\nThis can be overcome with route-reflectors\n\nNRLI’s from iBGP peer can only be forwarded to eBGP peer.\n\neBGP\n\nTTL = 1, this can be increased using neighbor [ip] ebgp-multihop [1-255]\nCan also use neighbor [ip] ttl-security hops [hop-count]\nDifference = eBGP-multihop = sets maximum range allowed, TTL-security sets exact range\n\nIf peering with different update source but not through additional hops, can use neighbor &lt;ip&gt; disable-connected-check\nDoes change next-hop by default\nIt’s recommended to update source to a loopback for resiliency neighbor [ip] update-source [loopback]\nNRLI from eBGP can be shared onto all other peers.\nPeer groups\n\nCan be used when multiple neighbors have the same requirements\nUse neighbor &lt;name&gt; peer-group to set up peer-group, then perform config under neighbor &lt;name&gt; &lt;command&gt;\nPeer groups applied to neighbor with neighbor &lt;ip&gt; peer-group &lt;name&gt;\nCan check with show ip bgp peer-group\nPeer groups are natively set up on the back end to limit CPU usage - only purpose is simplification of config\n\nECMP\n\nCan enable load-balancing with maximum paths &lt;path#&gt; command\nOnly takes effect when many parameters on routes match - Weight, local preference, AS-PATH (both numbers and lengths), origin code, MED, IGP metric\nuse maximum-paths &lt;value&gt; to enable multipath load sharing for eBGP\nuse maximum-paths ibgp &lt;value&gt; to enable for iBGP",
    "crumbs": [
      "CCNP ENARSI",
      "Layer 3 Technologies",
      "BGP"
    ]
  },
  {
    "objectID": "bgp.html#path-selection",
    "href": "bgp.html#path-selection",
    "title": "BGP",
    "section": "Path Selection",
    "text": "Path Selection\nWe Love Oranges AS Oranges Mean Pure Refreshment or NWLLA OMNI - Next Hop\n\nWeight (Highest)\nLocal Preference (Highest)\nOriginated locally\nAS_PATH (Shortest)\nOrigin code (IGP &gt; EGP &gt; ?)\nMED (Lowest)\nPath (eBGP &gt; iBGP)\nIGP metric (Lowest)\nRoute age (Oldest, only compared when routes from different eBGP peers)\nRID (Lowest)\nChoose path with minimum cluster list length\nChoose path through neighbour with lowest IP address",
    "crumbs": [
      "CCNP ENARSI",
      "Layer 3 Technologies",
      "BGP"
    ]
  },
  {
    "objectID": "bgp.html#path-selection-2-nwlla-omni",
    "href": "bgp.html#path-selection-2-nwlla-omni",
    "title": "BGP",
    "section": "Path Selection 2 (NWLLA OMNI)",
    "text": "Path Selection 2 (NWLLA OMNI)\n\nNext Hop must be Reachable\nWeight (Highest)\nLocal Preference (Higher)\nLocally Originated\nAS_PATH (Shortest)\nOrigin Code (Prefer i&gt;e&gt;?)\nMED (Smaller Preferred)\nNeighbour Type - prefer eBGP over iBGP\nIGP Metric to next hop - (Smaller)",
    "crumbs": [
      "CCNP ENARSI",
      "Layer 3 Technologies",
      "BGP"
    ]
  },
  {
    "objectID": "bgp.html#route-reflector",
    "href": "bgp.html#route-reflector",
    "title": "BGP",
    "section": "Route Reflector",
    "text": "Route Reflector\n\nAllows route learned from iBGP neighbour can be reflected to neighbours in same ASN - negates need for full mesh\nConfigured using neighbour [ip] route-reflector-client on the route reflector\n3 rules:\n\nRoutes learned from eBGP peers can be sent to other eBGP peers, clients, and non-clients.\nRoutes learned from client peers can be sent to eBGP peers, other client peers, and non-clients.\nRoutes learned from non-client peers can be sent to eBGP peers, and client peers, but not other non-clients.\n\nnext-hop-self only affects eBGP routes when used with route reflectors.",
    "crumbs": [
      "CCNP ENARSI",
      "Layer 3 Technologies",
      "BGP"
    ]
  },
  {
    "objectID": "bgp.html#summarisation",
    "href": "bgp.html#summarisation",
    "title": "BGP",
    "section": "Summarisation",
    "text": "Summarisation\n\nConfigured on AS Edge Routers\nCan use auto-summary however this only summarises classful networks\nConfigured with aggregate-address 10.0.0.0 255.0.0.0 [summary-only] [as-set]\n\nuse of summary-only advertises only summary route, not the aggregated networks\nuse of [as-set] carries over AS_Path attributes from component routes. (disordered AS’s in Curly brackets)\n\nThese routes are assigned the ATOMIC_AGGREGATE attribute to indicate they are aggregates & that loss of path info has occurred.\nThe summarising router adds an entry in their RIB with destination Null0 to avoid loops.\nAS_Path, MED +communities aren’t included in new prefix info\nCan include AS_Path info using as-set",
    "crumbs": [
      "CCNP ENARSI",
      "Layer 3 Technologies",
      "BGP"
    ]
  },
  {
    "objectID": "bgp.html#bgp-regexp",
    "href": "bgp.html#bgp-regexp",
    "title": "BGP",
    "section": "BGP regexp",
    "text": "BGP regexp\n\nCan be used to search for specifc AS-PATHs in table - for example: show ip bgp regexp ^$ this shows entries where AS-PATH is empty (locally originated)\nAbove will show prefixes originated locally with the AS. Cheat sheet here.\nOriginated in AS 100: _100$, Learned from AS 100: ^100_\nCan be used to filter with ACLs with IP as-path: ip as-path access-list 1 permit _54$\nThen use match as-path under a route-map to apply modifications\nTIP: Summarise Address without using aggregate-adresss\n\nCreate static route for the summarised address with destination Null0\nRedistribute Static under the BGP precess.",
    "crumbs": [
      "CCNP ENARSI",
      "Layer 3 Technologies",
      "BGP"
    ]
  },
  {
    "objectID": "bgp.html#next-hop-reachability",
    "href": "bgp.html#next-hop-reachability",
    "title": "BGP",
    "section": "Next Hop Reachability",
    "text": "Next Hop Reachability\n\neBGP: next-hop IP address is updated by the advertising router.\niBGP: next-hop IP is not changed but is configurable.",
    "crumbs": [
      "CCNP ENARSI",
      "Layer 3 Technologies",
      "BGP"
    ]
  },
  {
    "objectID": "bgp.html#weight",
    "href": "bgp.html#weight",
    "title": "BGP",
    "section": "Weight",
    "text": "Weight\n\nOnly used on the router where it is configured\nUsed to affect outbound routing.\nHigher value is better - default is 0 (32768 if originated locally)\nHighest in BGP path selection algorithm\nCisco proprietary\nConfiguration:\n\nroute-map SET_WEIGHT  \n match ip address|ip as-path ...  \n set weight 100 \n! \nrouter bgp 100  \n neighbor &lt;ip&gt; route-map SET_WEIGHT in  \n!  \n neighbor &lt;ip&gt; weight &lt;weight&gt;",
    "crumbs": [
      "CCNP ENARSI",
      "Layer 3 Technologies",
      "BGP"
    ]
  },
  {
    "objectID": "bgp.html#local-preference",
    "href": "bgp.html#local-preference",
    "title": "BGP",
    "section": "Local Preference",
    "text": "Local Preference\n\nLocally significant (to the AS), does not transit outside AS.\nUsed to affect outbound routing.\nHigher value is better - defaults to 100\nConfiguration:\n\nroute-map SET_LP  \n match ip address|ip as-path ...  \n set local-preference 1000  \n! \nrouter bgp 100  \n neighbor &lt;ip&gt; route-map SET_LP in  \n !  \n bgp default local-preference &lt;locpref&gt;",
    "crumbs": [
      "CCNP ENARSI",
      "Layer 3 Technologies",
      "BGP"
    ]
  },
  {
    "objectID": "bgp.html#as-path",
    "href": "bgp.html#as-path",
    "title": "BGP",
    "section": "AS-PATH",
    "text": "AS-PATH\n\nChanged for each AS prefix transits through\nUsed to affect inbound routing\nCan be used to influence path selection with as-path prepending\nCan be ignored with bgp bestpath as-path ignore - this is dangerous and not recommended\nCan be limited in length with bgp maxas-limit &lt;#&gt;\nConfiguration:\n\nroute-map PREPEND\n match ip address|ip as-path ...  \n set as-path prepend 100 100 100     \n! \nrouter bgp 100  \n neighbor &lt;ip&gt; route-map PREPEND out",
    "crumbs": [
      "CCNP ENARSI",
      "Layer 3 Technologies",
      "BGP"
    ]
  },
  {
    "objectID": "bgp.html#origin-code",
    "href": "bgp.html#origin-code",
    "title": "BGP",
    "section": "Origin Code",
    "text": "Origin Code\n\nRarely used to influence path selection - inflexible\nIGP &gt; EGP &gt; Incomplete\nCould affect inbound or outbound routing\nConfiguration:\n\nroute-map ORIGIN \nmatch ip address|ip as-path ...  \nset origin [igp|egp|incomplete]  \n!\nrouter bgp 100  \nneighbor &lt;ip&gt; route-map ORIGIN out",
    "crumbs": [
      "CCNP ENARSI",
      "Layer 3 Technologies",
      "BGP"
    ]
  },
  {
    "objectID": "bgp.html#med",
    "href": "bgp.html#med",
    "title": "BGP",
    "section": "MED",
    "text": "MED\n\nBy default only compared when originating from same AS\nLowest is best - defaults to 0\nUsed to affect inbound routing\nCan use bgp always-compare-med under router BGP to allow comparison of MED between different ASs\nConfiguration:\n\nroute-map MED \nmatch ip address|ip as-path ...  \nset metric 1000      \nrouter bgp 100  \nneighbor &lt;ip&gt; route-map MED out",
    "crumbs": [
      "CCNP ENARSI",
      "Layer 3 Technologies",
      "BGP"
    ]
  },
  {
    "objectID": "acls.html",
    "href": "acls.html",
    "title": "IP ACLs",
    "section": "",
    "text": "IP access-list: Defines traffic - either via permit/deny\nIP Access-group: applies an ACL to a physical interface\n\nip access-group &lt;ACL name&gt; {in|out}\nipv6 traffic-filter &lt;ACL name&gt; {in|out}\n\nAccess-class: applies an ACL to a line (VTY, Console, Aux) etc.\nline con 0\n access-class &lt;acl name&gt;",
    "crumbs": [
      "CCNP ENARSI",
      "Infrastructure Security",
      "IP ACLs"
    ]
  },
  {
    "objectID": "aaa.html",
    "href": "aaa.html",
    "title": "AAA",
    "section": "",
    "text": "AAA = Authentication, Authorisation, Accounting\nWho are they, what can they do, what did they do…\nif-authenticated used in authorisation config to allow user to access exec session once authenticated if TACACS/RADIUS server not reachable.\naaa new-model - Enables AAA, also tells device to look at the local DB if no credentials configured under Con/VTY lines.\n\n\n\n\nRouters/Switches have Console (CTY), Virtual Terminal (VTY) and occasionally AUX ports for access.\nSecuring Console\nLine Con 0\nLogin                               \npassword [password]                        !!! This secures the console line, in this case, with only the password [password]. NOTE-if Enable password is configured this will be required to get to priv exec mode.\n!\n!\nLine Con 0\nLogin Local                                !!! Login Local - tells switch to look at local user database\n!\n!\nLine Con 0\naaa authentication [Method List]\ntransport input SSH                       !!! Enables SSH (disables Telnet)\n\n\n\n\n\nIP access-list: Defines traffic - either via permit/deny\nAccess-group: applies an ACL to a physical interface\nAccess-class: applies an ACL to a line (VTY, Console, Aux) etc.\n\n\n\n\nusername [user] privilege 15 secret [password] \n!\naaa new-model\naaa group server tacacs+ [group]\n server-private 10.44.155.20 single-connection key [key]\n ip vrf forwarding Mgmt-intf\n ip tacacs source-interface GigabitEthernet0\n!\n! Alternate Method of server config with single server^\n!\ntacacs server [server]\n address ipv4 [10.44.241.250]\n key [passkey]\naaa group server tacacs+ [group-name]\n server name [server]\n ip tacacs source-interface GigabitEthernet0\n!\naaa authentication login [method list] group [group] local\naaa authorization exec [method list] group [group] local if-authenticated\naaa authorization commands 15 [method list] group [group] local if-authenticated\naaa accounting commands 1 [method list] start-stop group [group]\naaa accounting commands 15 [method list] start-stop group [group]\naaa session-id common\n!\n! using method list 'default' applies the AAA methods to all lines \n!\nline vty 0 4\nlogin authentication [list-name]\n\n\n***\naaa authorization exec default local          - Puts authenticated user to priv exec upon login]\nline vty 0 4\n  authorization exec default\n  \nTo use AAA on console port this is also required\nline con 0\n  logging authentication [group]\n  aaa authorization console",
    "crumbs": [
      "CCNP ENARSI",
      "Infrastructure Security",
      "AAA"
    ]
  },
  {
    "objectID": "aaa.html#general-info",
    "href": "aaa.html#general-info",
    "title": "AAA",
    "section": "",
    "text": "AAA = Authentication, Authorisation, Accounting\nWho are they, what can they do, what did they do…\nif-authenticated used in authorisation config to allow user to access exec session once authenticated if TACACS/RADIUS server not reachable.\naaa new-model - Enables AAA, also tells device to look at the local DB if no credentials configured under Con/VTY lines.\n\n\n\n\nRouters/Switches have Console (CTY), Virtual Terminal (VTY) and occasionally AUX ports for access.\nSecuring Console\nLine Con 0\nLogin                               \npassword [password]                        !!! This secures the console line, in this case, with only the password [password]. NOTE-if Enable password is configured this will be required to get to priv exec mode.\n!\n!\nLine Con 0\nLogin Local                                !!! Login Local - tells switch to look at local user database\n!\n!\nLine Con 0\naaa authentication [Method List]\ntransport input SSH                       !!! Enables SSH (disables Telnet)\n\n\n\n\n\nIP access-list: Defines traffic - either via permit/deny\nAccess-group: applies an ACL to a physical interface\nAccess-class: applies an ACL to a line (VTY, Console, Aux) etc.\n\n\n\n\nusername [user] privilege 15 secret [password] \n!\naaa new-model\naaa group server tacacs+ [group]\n server-private 10.44.155.20 single-connection key [key]\n ip vrf forwarding Mgmt-intf\n ip tacacs source-interface GigabitEthernet0\n!\n! Alternate Method of server config with single server^\n!\ntacacs server [server]\n address ipv4 [10.44.241.250]\n key [passkey]\naaa group server tacacs+ [group-name]\n server name [server]\n ip tacacs source-interface GigabitEthernet0\n!\naaa authentication login [method list] group [group] local\naaa authorization exec [method list] group [group] local if-authenticated\naaa authorization commands 15 [method list] group [group] local if-authenticated\naaa accounting commands 1 [method list] start-stop group [group]\naaa accounting commands 15 [method list] start-stop group [group]\naaa session-id common\n!\n! using method list 'default' applies the AAA methods to all lines \n!\nline vty 0 4\nlogin authentication [list-name]\n\n\n***\naaa authorization exec default local          - Puts authenticated user to priv exec upon login]\nline vty 0 4\n  authorization exec default\n  \nTo use AAA on console port this is also required\nline con 0\n  logging authentication [group]\n  aaa authorization console",
    "crumbs": [
      "CCNP ENARSI",
      "Infrastructure Security",
      "AAA"
    ]
  },
  {
    "objectID": "aaa.html#useful-show-commands",
    "href": "aaa.html#useful-show-commands",
    "title": "AAA",
    "section": "Useful show commands",
    "text": "Useful show commands\n\nshow ip interface g0/0 | include List - Shows ACL’s + direction applied to interface.\ndebug aaa authentication - Debug all AAA auth\ndebug radius authentication - Debug for radius auth\ndebug tacacs authentication - Debug for tacacs auth\ndebug aaa protocol local - Debug local authentication",
    "crumbs": [
      "CCNP ENARSI",
      "Infrastructure Security",
      "AAA"
    ]
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "About this site"
  },
  {
    "objectID": "bfd.html",
    "href": "bfd.html",
    "title": "BFD",
    "section": "",
    "text": "BFD - BiDirectionForwarding\n\nBFD is a lightweight (small fixed packets) protocol used to determine a link failure between L3 non-directly connected routers.\n\nSub Second failure\n1 session per address family per interface (regardless of how many protocols run on it).\nSupports OSPF, EIGRP, BGP, IS-IS\nNot Compatible with\n\nVTI Tunnels,\nACLs with Log Option\nIPSec\n\n\nConnection types in question\n\nL2 Switched Network\nVPN Tunnels\nDMVPN without LOS Propagation\n\nWorks with all Media Types, routing protocols, topologies and encapsulations.\nRequirements\n\nCEP + IP Routing must be enabled\nIP Routing protocol supported by BFD must be configured before BFD is configured",
    "crumbs": [
      "CCNP ENARSI",
      "Layer 3 Technologies",
      "BFD"
    ]
  },
  {
    "objectID": "copp.html",
    "href": "copp.html",
    "title": "CoPP",
    "section": "",
    "text": "Control Plane Policing\nUsed to protect control plane from DDoS and other attacks.\nUtilises Policy-Maps in a top down fashion, once matched the evaluation stops\nClass map match statement (used when multiple match statements exist)\n\nmatch-all - must match all match commands\nmatch-any - can match any match commands\n\nClass Map & Policy Maps are case sensitive\nT/S - SPCA ( Service Policy, Policy Map, Class Map ACL",
    "crumbs": [
      "CCNP ENARSI",
      "Infrastructure Security",
      "CoPP"
    ]
  },
  {
    "objectID": "copp.html#general-info",
    "href": "copp.html#general-info",
    "title": "CoPP",
    "section": "",
    "text": "Control Plane Policing\nUsed to protect control plane from DDoS and other attacks.\nUtilises Policy-Maps in a top down fashion, once matched the evaluation stops\nClass map match statement (used when multiple match statements exist)\n\nmatch-all - must match all match commands\nmatch-any - can match any match commands\n\nClass Map & Policy Maps are case sensitive\nT/S - SPCA ( Service Policy, Policy Map, Class Map ACL",
    "crumbs": [
      "CCNP ENARSI",
      "Infrastructure Security",
      "CoPP"
    ]
  },
  {
    "objectID": "copp.html#terminology",
    "href": "copp.html#terminology",
    "title": "CoPP",
    "section": "Terminology",
    "text": "Terminology\n\nClass based Policing works with Token Bucket Mechanism\n\nSingle Token bucket algorithm - used when the violate action is not specified\nTwo-token bucket algorithm - used when the violate action is specified.\n\nSingle Rate Policer - specify only the Commited Information Rate - CIR\nDual Rate Policer - Specify both Commited Information Rate & Peak Information Rate - CIR + PIR",
    "crumbs": [
      "CCNP ENARSI",
      "Infrastructure Security",
      "CoPP"
    ]
  },
  {
    "objectID": "copp.html#management-plane-protection",
    "href": "copp.html#management-plane-protection",
    "title": "CoPP",
    "section": "Management Plane Protection",
    "text": "Management Plane Protection\n\nUsed to determine which physical interfaces on a device you allow access to the managment plane from.",
    "crumbs": [
      "CCNP ENARSI",
      "Infrastructure Security",
      "CoPP"
    ]
  },
  {
    "objectID": "copp.html#useful-show-commands",
    "href": "copp.html#useful-show-commands",
    "title": "CoPP",
    "section": "Useful Show Commands",
    "text": "Useful Show Commands\n\nshow policy-map control-plane input",
    "crumbs": [
      "CCNP ENARSI",
      "Infrastructure Security",
      "CoPP"
    ]
  },
  {
    "objectID": "copp.html#standard-copp-configuration",
    "href": "copp.html#standard-copp-configuration",
    "title": "CoPP",
    "section": "Standard CoPP Configuration",
    "text": "Standard CoPP Configuration\n\nCreate ACL to define interesting traffic\nCreate class maps to define traffic class\nCreate policy maps to define a service policy\nApply service policy to control plane\n\n *** Configure ACLs ***\nip access-list extended COPP-ICMP-ACL-EXAMPLE\n permit udp any any range 33434 33463 ttl eq 1\n permit icmp any any unreachable\n permit icmp any any echo\n permit icmp any any echo-reply\n permit icmp any any ttl-exceeded\n exit\nip access-list extended COPP-MGMT-TRAFFIC-ACL-EXAMPLE\n permit udp any eq ntp any\n permit udp any any eq snmp\n permit tcp any any eq 22\n permit tcp any eq 22 any established\n permit tcp any any eq 23\n exit\nip access-list extended COPP-ROUTING-PROTOCOLS-ACL-EXAMPLE\n permit tcp any eq bgp any established\n permit eigrp any host 224.0.0.10\n permit ospf any host 224.0.0.5\n permit ospf any host 224.0.0.6\n permit pim any host 224.0.0.13\n permit igmp any any\n \n \n*** Create Class Maps ***\nclass-map match-all COPP-ICMP-CLASSMAP-EXAMPLE                           -  Class Map Name is case sensitive!\n match access-group name COPP-ICMP-ACL-EXAMPLE\nclass-map match-all COPP-MGMT-TRAFFIC-CLASSMAP-EXAMPLE\n match access-group name COPP-MGMT-TRAFFIC-ACL-EXAMPLE\nclass-map match-all COPP-ROUTING-PROTOCOLS-CLASSMAP-EXAMPLE\n match access-group name COPP-ROUTING-PROTOCOLS-ACL-EXAMPLE\n \n*** Create Policy Map ***\npolicy-map COPP-POLICYMAP-EXAMPLE                                        \n class COPP-MGMT-TRAFFIC-CLASSMAP-EXAMPLE\n  police 32000 conform-action transmit exceed-action transmit violate-action transmit\n class COPP-ROUTING-PROTOCOLS-CLASSMAP-EXAMPLE\n  police 34000 conform-action transmit exceed-action transmit violate-action transmit\n class COPP-ICMP-CLASSMAP-EXAMPLE\n  police 8000 conform-action transmit exceed-action transmit violate-action drop\n\n*** Apply to the Control Plane ***\ncontrol-plane\n service-policy input COPP-POLICYMAP-EXAMPLE",
    "crumbs": [
      "CCNP ENARSI",
      "Infrastructure Security",
      "CoPP"
    ]
  },
  {
    "objectID": "copp.html#additional-points",
    "href": "copp.html#additional-points",
    "title": "CoPP",
    "section": "Additional Points",
    "text": "Additional Points\nPolicy Map Policing: The first value is bits but the burst-normal and burst-max are in bytes (x8)",
    "crumbs": [
      "CCNP ENARSI",
      "Infrastructure Security",
      "CoPP"
    ]
  },
  {
    "objectID": "dhcp.html",
    "href": "dhcp.html",
    "title": "DHCP",
    "section": "",
    "text": "DHCP used to dynamically address clients on a network.\nClients Broadcast DHCPDISCOVER on local network.\nTo operate outwith local subnet ip helper-address x.x.x.x on DG interface will forward DHCP messages towards DHCP server.\n\nfor IPv6 this is ipv6 dhcp relay destination [ipv6-ip]\n\n\n\n\n\nDORA\n\nDiscover - Client sends broadcast to discover DHCP servers on port 67\nOffer - DHCP Server responds, offers IP, SM, DG, DHCP Options (if configured) on port 68\nRequest - Client request the offered IP details.\nAcknowledge - DHCP server acknowledges clients request and records the details\n\nSARR (IPv6)\n\nSolicit - Client sends this to locate DHCPv6 server, uses Multicast FFF02::1:2\nAdvertise - Servers respond to solicit message with a unicast advertise, offering addressing info\nRequest - Client sends request back to server, confirming address provided + other config\nReply - Server finalizes process with this message\n\n\n\nUseful show commands\n\nshow ip dhcp binding ! shows current dhcp ip bindings\nshow ip dhcp pool ! shows configured dhcp pool\nshow ip dhcp conflict ! shows ip conflicts\n\n\nStandard IPv4/IPv6 Configuration\nIPv4\nip dhcp excluded-address 10.8.8.1 10.8.8.10\n!\nip dhcp pool POOL-A\nnetwork 10.8.8.0 255.255.255.0\ndefault-router 10.8.8.1\ndns-server 192.168.1.1\nIPv6\nipv6 dhcp pool DHCPV6POOL\naddress prefix 2001:DB8:A:A::/64\ndns-server 2001:DB8:B:B::1\ndomain-name cisco.com\n!\ninterface GigabitEthernet0/0\nipv6 dhcp server DHCPV6POOL ! required to advertise IPs in v6 unlike v4\nint g0/0\nipv6 address autoconfig            ! Enables SLAAC on an interface",
    "crumbs": [
      "CCNP ENARSI",
      "Infrastructure Services",
      "DHCP"
    ]
  },
  {
    "objectID": "dhcp.html#dhcp-operation",
    "href": "dhcp.html#dhcp-operation",
    "title": "DHCP",
    "section": "",
    "text": "DORA\n\nDiscover - Client sends broadcast to discover DHCP servers on port 67\nOffer - DHCP Server responds, offers IP, SM, DG, DHCP Options (if configured) on port 68\nRequest - Client request the offered IP details.\nAcknowledge - DHCP server acknowledges clients request and records the details\n\nSARR (IPv6)\n\nSolicit - Client sends this to locate DHCPv6 server, uses Multicast FFF02::1:2\nAdvertise - Servers respond to solicit message with a unicast advertise, offering addressing info\nRequest - Client sends request back to server, confirming address provided + other config\nReply - Server finalizes process with this message\n\n\n\nUseful show commands\n\nshow ip dhcp binding ! shows current dhcp ip bindings\nshow ip dhcp pool ! shows configured dhcp pool\nshow ip dhcp conflict ! shows ip conflicts\n\n\nStandard IPv4/IPv6 Configuration\nIPv4\nip dhcp excluded-address 10.8.8.1 10.8.8.10\n!\nip dhcp pool POOL-A\nnetwork 10.8.8.0 255.255.255.0\ndefault-router 10.8.8.1\ndns-server 192.168.1.1\nIPv6\nipv6 dhcp pool DHCPV6POOL\naddress prefix 2001:DB8:A:A::/64\ndns-server 2001:DB8:B:B::1\ndomain-name cisco.com\n!\ninterface GigabitEthernet0/0\nipv6 dhcp server DHCPV6POOL ! required to advertise IPs in v6 unlike v4\nint g0/0\nipv6 address autoconfig            ! Enables SLAAC on an interface",
    "crumbs": [
      "CCNP ENARSI",
      "Infrastructure Services",
      "DHCP"
    ]
  },
  {
    "objectID": "eigrp.html",
    "href": "eigrp.html",
    "title": "EIGRP",
    "section": "",
    "text": "Distance/Vector protocol\nClassic/Named Mode\n\nClassic: Commands under router process + Interfaces - disparate.\nNamed: Config in SubSections - Address Family, Interface & Topology\n\nAD 90 internal, 170 External\nHello’s are Multicast on 224.0.0.10, port 88\nTimers\n\nHello - default 5 secs, (60 on Slow interfaces)\nHold - default 15 secs, (180 on slow interfaces) - How long we tell neighbour to wait for us.\n\nLoad balance over unequal paths using variance (multiple of FD) - only IGRP that can do this.\nUses K Values for Metrics (K1-5, Bandwidth, Delay, Reliability, Load, MTU) - set with metric-weights under EIGRP process or Address Family\n\nMostly uses\n\nK1 - Bandwidth - slowest in path\nK3 - Delay - cumulative\n\n\nSupports VLSM by sending mask\nCan configure neighbour specifically to use Unicast\nUses RTP (reliable transport protocol - confirms messages neighbour received messages but not hello)\nUses DUAL (Diffusing identifies neighbour with lowest Feasible Distance)\n\nFD set to Infinity to indicate the router is in transition & seeking alternative paths\n\n3 Data Structures\n\nNeighbour Table - Who our EIGRP neighbours are\nInterface Table - which interfaces are participating\nTopology Table - shows routes known to EIGRP\n\nRouter-ID configurable - if not generated by highest configured + active Loopback, then any IPv4 interface.",
    "crumbs": [
      "CCNP ENARSI",
      "Layer 3 Technologies",
      "EIGRP"
    ]
  },
  {
    "objectID": "eigrp.html#eigrp---classicmodern-ipv4-configuration",
    "href": "eigrp.html#eigrp---classicmodern-ipv4-configuration",
    "title": "EIGRP",
    "section": "EIGRP - Classic+Modern IPv4 Configuration",
    "text": "EIGRP - Classic+Modern IPv4 Configuration\nCLASSIC\nrouter eigrp 10 \nnetwork 10.1.1.0 0.0.0.255           - If any interfaces match & configured/up they should participate in EIGRP\nnetwork 172.16.1.0 0.0.0.3\nnetwork 0.0.0.0 255.255.255.255      - Makes all interfaces participate in EIGRP\n  interface G0/1\n    ip hello-interval eigrp 10 3\n    ip hold-interval eigrp 10 15\n    timers active-time 2\neigrp stub                            - for stub site\n\n---\n\nMODERN\nrouter eigrp [NAME]\n !\n address-family ipv4 unicast autonomous-system 1\n eigrp stub                           - for stub site\n  !\n  af-interface default\n   passive-interface                 - Sets all intefaces as passive.\n   ip hello-interval eigrp 10 3       - Can be here or af-interface section below\n   ip hold-interval eigrp 10 15\n  exit-af-interface\n  !\n  af-interface GigabitEthernet0/1\n   no passive-interface               - enables interface for EIGRP\n   ip hello-interval eigrp 10 3\n   ip hold-interval eigrp 10 15\n  exit-af-interface\n  !\n  topology base\n  variance 2\n    timers active-time 2              - 3 mins by default, \n  exit-af-topology\n  network 10.1.1.2 255.255.255.255\n  m\n  eigrp router-id 150.1.5.5\n exit-address-family",
    "crumbs": [
      "CCNP ENARSI",
      "Layer 3 Technologies",
      "EIGRP"
    ]
  },
  {
    "objectID": "eigrp.html#useful-show-commands-info",
    "href": "eigrp.html#useful-show-commands-info",
    "title": "EIGRP",
    "section": "Useful Show Commands + Info",
    "text": "Useful Show Commands + Info\n\nshow ip route EIGRP - shows EIGRP routes installed into the RIB\nshow ip eigrp interfaces - shows active EIGRP interfaces\nshow ip eigrp interfaces detail - shows detailed interface info (hold time, split-horizon enabled etc.\nshow ip eigrp topology all-links - shows all additional paths to network (failed Feasibility Condition)\nshow ip protocols - displays EIGRP process ID, ASN, K values, RID, Neighbours, AD + Passive Ints\nStuck in Active - router sends query about network, doesn’t hear back and thinks it’s neighbor has died. Default timer 3 mins, router waits half then sends SIA query to neighbours\nEIGRP routes with same router-id will form an adjacency but won’t accept routes from one another. Investigate using debug ip eigrp\nshow ip eigrp traffic - shows traffic statistics - # of hellos, updates, queries, replies etc.",
    "crumbs": [
      "CCNP ENARSI",
      "Layer 3 Technologies",
      "EIGRP"
    ]
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "notes",
    "section": "",
    "text": "This is a Quarto website used for various things, including collating notes for my CCNP ENARSI exam.\nIdea and formatting borrowed from BrunB…\nTo learn more about Quarto websites visit https://quarto.org/docs/websites.",
    "crumbs": [
      "Welcome"
    ]
  },
  {
    "objectID": "logging.html",
    "href": "logging.html",
    "title": "Logging",
    "section": "",
    "text": "Syslog\n\nGeneral Notes\n\nUsed to manage system logs and alerts\nCan be stored locally, sent to vty, console lines, or forwarded to an external syslog server\nLogging levels: (Every Awesome Cisco Engineer Will Need Icecream Daily )\n\nEmergency: 0\nAlert: 1\nCritical: 2\nError: 3\nWarning: 4\nNotice: 5\nInformational: 6\nDebug: 7\n\n\n\n\n\nConditional Debugging\nConditions can be configured to reduce the output you see when debugging. These conditions can be nested (set interlace condition, then set IP/Mac condition for eg.)\n\nUseful show commands\n\nshow logging — Shows information on local and external syslog\n\n\n\n\nStandard Syslog Config\nlogging buffered 90000        # Increase local logging buffer size\nlogging &lt;logging-server&gt;\nservice timestamps debug datetime localtime show-timezone msec\nservice timestamps log datetime localtime show-timezone msec\nlogging trap warning         # includes this level of message and all lower levels\nlogging source-interface loopback0\nexit\n\n\nStandard timestamp config\n#service timestamps [debug|log] [datetime|uptime]\n\n*Datetime - includes date and time\n*Uptime - time elapsed since last reboot\n\n\nShow Sequence Numbers\nconf t\nservice sequence-numbers\n\n! shows sequence numbers in log which allows you to differenciate between 2 events that happened simultaneously.\n\n\nSave config commands to local log & send to syslog\narchive\n log config\n logging enable     ! enables local config logger\n logging size       ! sets max number of logs to keep\n hidekeys           ! hides passwords when showing logged commands\n notify syslog      ! sends logged commands to syslog server\n\n\nConditional Debugging\ndebug condition mac 1111.1111.1111                  ! this debugs based on the mac specified\ndebug condition start                               ! starts conditional debugging\n!\nshow condition                                      ! displays the current conditions set\nshow debug\n!\nno debug condition interface g0/2                   ! this removes the condition\nno debug all                                        ! stops debugging however does not remove conditions",
    "crumbs": [
      "CCNP ENARSI",
      "Infrastructure Services",
      "Logging"
    ]
  },
  {
    "objectID": "mpls.html",
    "href": "mpls.html",
    "title": "MPLS",
    "section": "",
    "text": "Protocol that uses labels to determine which path traffic should route\nshim header (20-bit) inserted between IP & MAC header (This is the label) - That is to say the MPLS labels appear between the Layer 2 & Layer 3 Headers.\nLabels switched hop by hop\nControl Plane\n\nWhere/how things are “learned”.\nL3 protocol - IGPs, BGP\n\nDatabases (OSPF LSDB)\n\nLabel Learning/Exchange (TDP, LDP, RSVP)\n\nDatabases (LIB)\n\n\nData Plane\n\nTables that store forwarding information\nRIP\nCEF Tables (FIB, LFIB, Adjacency Table)\n\nIntroduces LIB (Label Information Base) & LFIB (Label Forwarding Information Base)\nLDP - Label Discovery Protocol\n\nUses all-routers multicast (224.0.0.2), TCP port 646 src and dst for Hellos, unicast to neighbors once TCP session established (Also used UDP)\nUDP also used for initial discovery messages (Using UDP)\nLDP requires CEF in order to exchange labels\nNo Split Horizon - floods labels to all neighbours\nOnly IGP-learned or local routes are labelled, BGP routes not assigned a label\nAfter LDP TCP connection is established LSR’s negotiate session parameters using 2 types of label distribution\n\nDownstream Unsolicited: An LSR advertises label mappings to peers without being asked to.\nDownstream on Demand: An LSR advertises label mappings to a peer only when the peer asks for them.\n\nLDP Transport Address - dynamically derived, like a Router-ID (Highest lop\nLDP Extended Discovery Message\n\nPHP\n\nPenultimate Hop Popping - popping MPLS label on second to last router to avoid unnecessary overhead (processing shim header & IP)\nIn order to facilitate this, LDP routers advertise routes they own with an implicit null/POP label (label value of 3) - “imp-null” that tells neighbours to pop LDP labels before sending for these routes\n\nLIB - Label Information Base - functions like L3 RIB\nLFIB - Label Forward Information Base - functions like L3 FIB\nLSR - Label Switched Router - any router that participates in MPLS\nLSP - Label Switched Path - path through LSRs labelled packet takes throughout MPLS domain\nMP-BGP (VPNv4) used with VRFs and LDP to form MPLS L3VPNs\nRSVP - Resource Reservation Protocol - used to distribute label information with traffic engineering specifically.\nMPLS LDP Features\n\nInbound Label Binding Filtering - uses ACLs to identify traffic that will and won’t be accepted from peers.\nEntropy Label - Load Balancing, DPI is done on ingress router (Edge LSR) and entropy label created, this is used by all other MPLS routers. Without each router must perform DPI for LB.\nImplicit NULL Label - Reserved , Value 3, Used for PHP. When LSR received label with value 3 it knows it has to pop the label before forwarding.\nExplicit NULL Label - Reserved, Value 0, used to preserve Qos EXP bits and copy them into QoS IP precedence or DiffServ bits after PHP occurs\n\nNOTE: Normally LDP advertises implicit Null label for directly connected routes. This caused penultimate router to POP label.\nNOTE: In cases where this isn’t desirable, mpls ldp explicit-null is advertised for directly connected routes.\n\nUse prefix-acl to determine which routes to advertise explicit-null, if not configured all directly connected.\nPeer-acl - advertise to specific peers if configured.\n\n\nMPLS LDP Autoconfiguration - Enables LDP on every interface associated with specific IGP, removes the need to manually configure MPLS - Supports only OSPF + IS-IS\n\nMPLS Label\n\nLocally Significant",
    "crumbs": [
      "CCNP ENARSI",
      "VPN & Encryption",
      "MPLS"
    ]
  },
  {
    "objectID": "mpls.html#general-info",
    "href": "mpls.html#general-info",
    "title": "MPLS",
    "section": "",
    "text": "Protocol that uses labels to determine which path traffic should route\nshim header (20-bit) inserted between IP & MAC header (This is the label) - That is to say the MPLS labels appear between the Layer 2 & Layer 3 Headers.\nLabels switched hop by hop\nControl Plane\n\nWhere/how things are “learned”.\nL3 protocol - IGPs, BGP\n\nDatabases (OSPF LSDB)\n\nLabel Learning/Exchange (TDP, LDP, RSVP)\n\nDatabases (LIB)\n\n\nData Plane\n\nTables that store forwarding information\nRIP\nCEF Tables (FIB, LFIB, Adjacency Table)\n\nIntroduces LIB (Label Information Base) & LFIB (Label Forwarding Information Base)\nLDP - Label Discovery Protocol\n\nUses all-routers multicast (224.0.0.2), TCP port 646 src and dst for Hellos, unicast to neighbors once TCP session established (Also used UDP)\nUDP also used for initial discovery messages (Using UDP)\nLDP requires CEF in order to exchange labels\nNo Split Horizon - floods labels to all neighbours\nOnly IGP-learned or local routes are labelled, BGP routes not assigned a label\nAfter LDP TCP connection is established LSR’s negotiate session parameters using 2 types of label distribution\n\nDownstream Unsolicited: An LSR advertises label mappings to peers without being asked to.\nDownstream on Demand: An LSR advertises label mappings to a peer only when the peer asks for them.\n\nLDP Transport Address - dynamically derived, like a Router-ID (Highest lop\nLDP Extended Discovery Message\n\nPHP\n\nPenultimate Hop Popping - popping MPLS label on second to last router to avoid unnecessary overhead (processing shim header & IP)\nIn order to facilitate this, LDP routers advertise routes they own with an implicit null/POP label (label value of 3) - “imp-null” that tells neighbours to pop LDP labels before sending for these routes\n\nLIB - Label Information Base - functions like L3 RIB\nLFIB - Label Forward Information Base - functions like L3 FIB\nLSR - Label Switched Router - any router that participates in MPLS\nLSP - Label Switched Path - path through LSRs labelled packet takes throughout MPLS domain\nMP-BGP (VPNv4) used with VRFs and LDP to form MPLS L3VPNs\nRSVP - Resource Reservation Protocol - used to distribute label information with traffic engineering specifically.\nMPLS LDP Features\n\nInbound Label Binding Filtering - uses ACLs to identify traffic that will and won’t be accepted from peers.\nEntropy Label - Load Balancing, DPI is done on ingress router (Edge LSR) and entropy label created, this is used by all other MPLS routers. Without each router must perform DPI for LB.\nImplicit NULL Label - Reserved , Value 3, Used for PHP. When LSR received label with value 3 it knows it has to pop the label before forwarding.\nExplicit NULL Label - Reserved, Value 0, used to preserve Qos EXP bits and copy them into QoS IP precedence or DiffServ bits after PHP occurs\n\nNOTE: Normally LDP advertises implicit Null label for directly connected routes. This caused penultimate router to POP label.\nNOTE: In cases where this isn’t desirable, mpls ldp explicit-null is advertised for directly connected routes.\n\nUse prefix-acl to determine which routes to advertise explicit-null, if not configured all directly connected.\nPeer-acl - advertise to specific peers if configured.\n\n\nMPLS LDP Autoconfiguration - Enables LDP on every interface associated with specific IGP, removes the need to manually configure MPLS - Supports only OSPF + IS-IS\n\nMPLS Label\n\nLocally Significant",
    "crumbs": [
      "CCNP ENARSI",
      "VPN & Encryption",
      "MPLS"
    ]
  },
  {
    "objectID": "mpls.html#fec",
    "href": "mpls.html#fec",
    "title": "MPLS",
    "section": "FEC",
    "text": "FEC\n\nForwarding Equivalence Class\n\nGroup of packets forwarded\n\nIn the same Manner\nOver the same path\nWith the same forwarding treatment\n\nMPLS packet forwarding consists of\n\nAssigning a packet to a specific FEC\nDetermining the next hop of each FEC\n\n\nFEC can represent a:\n\nDestination IP Prefix\nVPN ID\nVLAN ID\nTraffic Engineering tunnel\nOthers",
    "crumbs": [
      "CCNP ENARSI",
      "VPN & Encryption",
      "MPLS"
    ]
  },
  {
    "objectID": "mpls.html#mpls-layer-3-vpn",
    "href": "mpls.html#mpls-layer-3-vpn",
    "title": "MPLS",
    "section": "MPLS Layer 3 VPN",
    "text": "MPLS Layer 3 VPN\n\nRoute Distinguishes - 64 bit - prepended to IP address to make VPNv4 route (RD + IP Prefix) - used to differentiate between routes on BGP router.\nConfigured with xx:yy\n\nxx - can be an IPv4 address or ASN\nyy - is VPN Identifier (can be anything you like).\nip vrf Customer_A\n  rd 100:1\n  route-target export 200:1\n  route-target import 200:1\n\nRoute Targets - BGP Community Value used to inform router which VRF to export/import routes to - these match (opposing values) on other routers.\nRouter A\n--------\nip vrf Customer_A\n  rd 100:1\n  route-target export 200:1\n  route-target import 200:2\n\n\nRouter B\n--------\nip vrf Customer_A\n  rd 100:1\n  route-target export 200:2\n  route-target import 200:1",
    "crumbs": [
      "CCNP ENARSI",
      "VPN & Encryption",
      "MPLS"
    ]
  },
  {
    "objectID": "mpls.html#useful-show-commands",
    "href": "mpls.html#useful-show-commands",
    "title": "MPLS",
    "section": "Useful Show Commands",
    "text": "Useful Show Commands\n\nshow mpls ldp parameters - Displays LDP parameters on local router\nshow mpls interfaces - shows interfaces participating in LDP\nshow mpls ldp discovery - Displays all discovered LDP neighbours\n\nshow mpls ldp binding - Shows LDP label bindings to prefixes (Remember imp-null - POP)\nshow mpls ldp neighbor - shows LDP neighbours\nshow mpls forwarding-table - shows LFIB\nshow bgp vpnv4 unicast all - checking that VPNv4 routes being sent/received\ndebug mpls ldp transport events - self-explanatory\ndebug bgp vpnv4 unicast updates - useful for troubleshooting VPNv4 issues",
    "crumbs": [
      "CCNP ENARSI",
      "VPN & Encryption",
      "MPLS"
    ]
  },
  {
    "objectID": "mpls.html#config",
    "href": "mpls.html#config",
    "title": "MPLS",
    "section": "Config",
    "text": "Config",
    "crumbs": [
      "CCNP ENARSI",
      "VPN & Encryption",
      "MPLS"
    ]
  },
  {
    "objectID": "ospf.html",
    "href": "ospf.html",
    "title": "OSPF",
    "section": "",
    "text": "Link State Routing Protocol - makes routing decisions based on the state of links.\nOnce adjacency formed each router has the same Link State Database.\nReacts only to changes, no constant flooding of updates.\nAD - 110 for Internal & External\nProcess-ID - Locally significant.\nTimers (Default - dead = 4 x Hello)\n\nHello - 10\nDead Interval - 40 (How long local router waits to hear neighbours Hello\nWait Timer - 40 (How long to wait for DR/BDR to be elected before triggering election)\nRetransmit - 5 (how long to wait to retransmit OSPF packet which hasn’t been acknowledged)\n\n224.0.0.5 - Broadcast for All OSPF Routers (Broadcast), Port 89\n224.0.0.6 - Broadcast for All Designates Routers, Port 89\nDR/BDR Election - Highest Priority value (0 to remove from election) - Highest Router-ID - Highest IP on Loopback Int - Highest IP on interface that’s UP\nMetric Calculation\n\nBandwidth \\ References Bandwidth - Default ref is 100Mb (all interfaces &gt; 100M have same ref cost.\n\nChange ref bandwidth with auto-cost reference bandwidth [value] big kev recommends 2TB!\nShould match across topology but won’t stop neighbourships forming.\n\n\nNetwork Type (don’t have to match)\n\nBroadcast - Ethernet -Default for OSPF - DR/BDR required\nPoint-to-Point - Default for non-Frame Relay serial interface, no DR/BDR required\nNBMA - Frame Relay - DR/BDR required, no broadcasts or multicasts, Neighbours must be manually configured. (Hello 30 seconds, Dead Interval 120 seconds)\nPoint-to-Multipoint - No DR/BDR required, (Hello 30 seconds, Dead Interval 120 seconds)\nWhen mixing - might have to adjust timers.\n\nLSAs\n\nType 1 - Router LSA (Intra-Area)\n\nGenerated by all OSPF routers, area local scope, shares directly connected neighbours\n\nType 2 - Network LSA (Intra-Area)\n\nGenerated by DR, area local scope, describes DR adjacent routers.\n\nType 3 - ABR Network Summary LSA (Inter-Area)\n\nGenerated by ABR, sends list of networks in adjacent area, one LSA per network.\nDefault route sent using Type 3 LSA\n\nType 4 - Summary ASBR LSA\n\nGenerated by ABR, tells members of an area how to reach ASBR.\n\nType 5 - External LSA\n\nGenerated by ASBR, network wide, goes to all non-stub areas.\nDescribes routed the ASBR is redistributing.\nType 1=E1 - Cost the ASBR reports plus cost to ASBR\nType 2=E2 - Cost of Redistribution metric only, if tie-break cost to ASBR included.\n\nType 7 - NSSA External LSA\n\nTroubleshooting - TAN MAT (Timers, Area, Network Address, MTU, Auth, Type)",
    "crumbs": [
      "CCNP ENARSI",
      "Layer 3 Technologies",
      "OSPF"
    ]
  },
  {
    "objectID": "ospf.html#neighbourship",
    "href": "ospf.html#neighbourship",
    "title": "OSPF",
    "section": "Neighbourship",
    "text": "Neighbourship\n\nNeighbourship Requirements (Must match)\n\nMatching Area\nMatching Auth Parameters\nMatching Subnet\nMatching Timers\nMatching Stub Flags\nMatching MTU (Exstart/Exchange State)\n\nTroubleshooting - TAN MAT (Timers, Area, Network Address, MTU, Auth, Type)",
    "crumbs": [
      "CCNP ENARSI",
      "Layer 3 Technologies",
      "OSPF"
    ]
  },
  {
    "objectID": "ospf.html#neighbour-states",
    "href": "ospf.html#neighbour-states",
    "title": "OSPF",
    "section": "Neighbour States",
    "text": "Neighbour States\n\nDown - No Hello’s received\nAttempt - Only for manually configured neighbours in NBMA networks (Frame-Relay)\nInit - Hello packet received from neighbour\n2Way - Bi-Direction communication established - Hello packet received from neighbour with own Router-ID present.\nExstart - Routers work together to determine which router becomes DBD and will synchronise updates.\nExchange - DBD exchange takes place, routers send/receive DBD’s containing summaries of their LSA’s, Each DBD has a sequence which is incremendted by one for each new packet.\nLoading - Routers exchange LSR’s & LSU’s including all LSA’s\nFull - Operational state of OSPF, network functioning as expected.\n\n\nNeighbour Transitions\n\nDown – Init (Receives Hello packet)\nInit – Two-Way (Sees own Router ID from the neighbor’s Hello)\nTwo-Way – ExStart (If adjacency is needed, Master-Slave negotiation begins)\nExStart – Exchange (DBD packet exchange starts)\nExchange → Loading (Request and update LSAs)\nLoading – Full (Achieved full synchronization of the LSDB)",
    "crumbs": [
      "CCNP ENARSI",
      "Layer 3 Technologies",
      "OSPF"
    ]
  },
  {
    "objectID": "ospf.html#authentication",
    "href": "ospf.html#authentication",
    "title": "OSPF",
    "section": "Authentication",
    "text": "Authentication\n\nEnabled per Interface or for all interfaces in an area\nPlain text (pointless)\nMD5 Hash - combination of key value + password. (Key + Password must both match).\nHMAC with SHA (requires key chain)\n\nPLAINTEXT (AREA)\nrouter ospf 1\narea [area id] authentication                               - Enables plaintext auth in the area specified\n  int g0/1\n    ip ospf authentication                                  - Or here Plaintext\n    ip ospf authentication-key [password] \n\n\nMD5 (AREA)\nrouter ospf 1\narea [area id] authentication message-digest                - enables MD5 in the area specified\n  int g0/1\n    ip ospf authentication message-digest                   - Sets MD5 auth for that interface\n    ip ospf message-digest-key [key#] md5 [password]        - Creates hash using key + password \n    \nHMAC with SHA\nNeeds -  KEY CHAIN\nkey chain OSPF_KEY\n key 1\n  key-string [password][\n  cryptographic-algorithm ]hmac-sha-256]                    - can also select md5 here if you wish\n int g0/0\n  ip ospf authentication key-chain OSPF_KEY\n    \n-------------------------------------------------------------------------------------------------------------\n\nOSPFv3\narea 0 authentication ipsec spi [value] sha1 0 [40char key]\nint g0/0\n  ospfv3 authentication ipsec spi [value] sha1 0 [40char key]",
    "crumbs": [
      "CCNP ENARSI",
      "Layer 3 Technologies",
      "OSPF"
    ]
  },
  {
    "objectID": "ospf.html#virtual-links",
    "href": "ospf.html#virtual-links",
    "title": "OSPF",
    "section": "Virtual Links",
    "text": "Virtual Links\n\nAllows adjacency with non directly connected neighbour between one ABR + multi Area Router\nConfigured with area [transit area#] virtual link [neighbour RID]\nRID used rather than Router int IP.\nLinks shows as “DNA” in OSPF DB - ‘Do Not Age’ - reduced traffic flowing over link - no hello or refresh messages.\nAt least one device must be in Area 0, can’t be formed in any stubby areas.",
    "crumbs": [
      "CCNP ENARSI",
      "Layer 3 Technologies",
      "OSPF"
    ]
  },
  {
    "objectID": "ospf.html#summarisation",
    "href": "ospf.html#summarisation",
    "title": "OSPF",
    "section": "Summarisation",
    "text": "Summarisation\n\nSummarisation only possible at ABR + ASBR\nInter-Area Summarisation, reduces Type 3 LSAs, summarised metric = lowest metric of networks by default\n\nconfigured with area [area-id] range [network + mask] cost [metric] under OSPF process. *Note the Area ID is the area you’re summarising from, must be connected.\n\ncan use not-advertise to prevent prefixes being advertised\nExternal route Summarisation defined at ASBR\n\nconfigured with summary-address [network + mask] under OSPF process.\n“Discard Route” installed with destination Null0 - matches summary address to prevent loops (AD set to 110 for internal, 254 for external)\n\nAD can be adjusted wtih discard-route [external | internal] distance",
    "crumbs": [
      "CCNP ENARSI",
      "Layer 3 Technologies",
      "OSPF"
    ]
  },
  {
    "objectID": "ospf.html#stub-areas",
    "href": "ospf.html#stub-areas",
    "title": "OSPF",
    "section": "Stub Areas",
    "text": "Stub Areas\n\nBlocks LSA Types 4 (ASBR) and 5 (External)\nMy ABR originates default route as Type 3 LSA, ABR can reach ASBR and ASBR can reach external route so I don’t need details of external route & ASBR.\nCan’t redistribute any prefixes from within a Stub Area\nConfigured with area [area #] stub",
    "crumbs": [
      "CCNP ENARSI",
      "Layer 3 Technologies",
      "OSPF"
    ]
  },
  {
    "objectID": "ospf.html#totally-stubby-area",
    "href": "ospf.html#totally-stubby-area",
    "title": "OSPF",
    "section": "Totally Stubby Area",
    "text": "Totally Stubby Area\n\nBlocks LSA Types 3 (Inter-Area), 4 (ASBR) and 5 (External)\nCisco Propriety\nconfigured with area [area #] stub no-summary on ABR, other routers in area as above.\nDefault route tuning: area [area #] default-cost [metric]",
    "crumbs": [
      "CCNP ENARSI",
      "Layer 3 Technologies",
      "OSPF"
    ]
  },
  {
    "objectID": "ospf.html#nssa",
    "href": "ospf.html#nssa",
    "title": "OSPF",
    "section": "NSSA",
    "text": "NSSA\n\nNot So Stubby Area, RFC1587 (https://www.ietf.org/rfc/rfc1587.txt)\nTwo types, NSSA and totally NSSA\n\nNSSA prevents LSA5 advertisements but allows redistribution of externals\n\nConfigured with area &lt;area#&gt; nssa under router ospf\nDoes not advertise default route from ABR by default\nCan use area &lt;area#&gt; nssa default-information-originate to advertise default\n\nTotally NSSA prevents LSA3, 5 but allows redistribution of externals\n\nConfigured with area &lt;area#&gt; nssa no-summary under router ospf\nAdvertises default route from ABR\n\n\nExternals originated in these areas will be LSA7s instead of LSA5s, translated to LSA5 at ABR",
    "crumbs": [
      "CCNP ENARSI",
      "Layer 3 Technologies",
      "OSPF"
    ]
  },
  {
    "objectID": "ospf.html#default-route",
    "href": "ospf.html#default-route",
    "title": "OSPF",
    "section": "Default Route",
    "text": "Default Route\n\nConfigured with default-information originate [always]\nUse of always advertises the default route even if one doesn’t exist in the routing table.",
    "crumbs": [
      "CCNP ENARSI",
      "Layer 3 Technologies",
      "OSPF"
    ]
  },
  {
    "objectID": "ospf.html#filtering",
    "href": "ospf.html#filtering",
    "title": "OSPF",
    "section": "Filtering",
    "text": "Filtering\n\nInter-area filtering possible only at ABRs, filtering Type 3 LSAs\nPerformed with area &lt;area#&gt; filter-list prefix [prefix-list] [in|out] - IN (filter against things into this area), OUT (Change area, filter out of this area)\nInter-area filtering also possible with area [area #] range [network] [mask] not-advertise - area# is source area, can only be used at source ABR (looks are router/network LSAs)\n\nON ABR\nip prefix-list BLOCK_GLASGOW seq 5 deny 10.44.1.0/24 le 30         - deny this network with mask less than 30\nip prefix-list BLOCK_GLASGOW seq 10 permit 0.0.0.0/0 le 32         - permit everything else\n\nrouter ospf 2\n  area 1 filter-list prefix BLOCK_GLASGOW in                       - Blocks 10.44.1.0/24 from being advertised IN to area 1\n  area 0 filter-list prefix BLOCK_GLASGOW out                      - Blocks 10.44.1.0/24 from being advertised OUT of area 0\n  \n\nCan also use distribute lists which stop the route being added to the routing table but not the OSPF database. - CAN BE DONE ANYWHERE\nConfigured using distribute-list prefix [name] [in/out] [interface]\n\n### ACL\naccess-list 1 deny 28.0.0.0 0.255.255.255\naccess-list 1 permit any\n!\nrouter ospf 1\n      distribute-list 1 in \n    ```\n\n###  Example with Prefix List\nPREFIX-LIST\nip prefix-list BLOCK_GERMANY deny 10.49.1.0/24 le32\nip prefix-list BLOCK_GERMANY permit 0.0.0.0/0 le 32\n!\nrouter ospf 1\ndistribute-list prefix BLOCK_GERMANY in\n\nCan match on many values with route-maps, such as interface, ip address, ip next-hop, ip route-source, metric, route-type and tag\n\naccess-list 3 permit 155.1.146.0 \naccess-list 4 permit 155.1.0.4 \n!\nroute-map DENY_VLAN146_FROM_R4 deny 10\n match ip address 3  \n match ip next-hop 4 \n!         \nroute-map DENY_VLAN146_FROM_R4 permit 20 \n! \nrouter ospf 1  distribute-list route-map DENY_VLAN146_FROM_R4 in\n\nNote again distribute-lists ONLY AFFECTS LOCAL RIB, not OSPF database\nEasy to create traffic black holes if not careful with this feature",
    "crumbs": [
      "CCNP ENARSI",
      "Layer 3 Technologies",
      "OSPF"
    ]
  },
  {
    "objectID": "ospf.html#route-selection",
    "href": "ospf.html#route-selection",
    "title": "OSPF",
    "section": "Route Selection",
    "text": "Route Selection\nIntra Area &gt; Inter Area &gt; External (E1/N1 then E2, N2) - irrespective of cost, this order is immutable.\nIf 2 routes to external network are learned via E1 & N1 with the same cost then N1 is preferred.",
    "crumbs": [
      "CCNP ENARSI",
      "Layer 3 Technologies",
      "OSPF"
    ]
  },
  {
    "objectID": "ospf.html#ospfv3",
    "href": "ospf.html#ospfv3",
    "title": "OSPF",
    "section": "OSPFv3",
    "text": "OSPFv3\n\nRequires ipv6 unicast-routing to be enabled in Global Configuration mode.\nOSPF process enabled with ipv6 ospfv3 &lt;process&gt;\nIssue ipv6 address xx or ipv6 enable command in interface Configuration mode\nIssue ipv6 ospf &lt;process-id&gt; area &lt;area-id&gt; [instance instance-id] under interface Configuration mode\nNote, if you don’t enter a RouterID and there are no up interfaces the process will fail to start.\nOSPFv3 Comms within a local segment based on link-local addresses.\nOnly one Address Family can be enabled on an OSPFv3 Instance but OSPFv3 allows multiple instances to be enabled on a Link\n\nIPv4 Instances (Default 64) - 64-95\nIPv6 Instances (Default 0) - 0-31",
    "crumbs": [
      "CCNP ENARSI",
      "Layer 3 Technologies",
      "OSPF"
    ]
  },
  {
    "objectID": "ospf.html#sham-link",
    "href": "ospf.html#sham-link",
    "title": "OSPF",
    "section": "Sham-Link",
    "text": "Sham-Link\n\nCan make an inter-area link appear to be an intra-area link on MPLS VPN.\nLogical links between PE routers\nCan force OSPF to chose a VPN link between PE routers as best path from local CE router to remote CE router.",
    "crumbs": [
      "CCNP ENARSI",
      "Layer 3 Technologies",
      "OSPF"
    ]
  },
  {
    "objectID": "routemap-pbr.html",
    "href": "routemap-pbr.html",
    "title": "Route Maps & PBR",
    "section": "",
    "text": "PBR intercept packet before regular routing, INGRESS ONLY\nMakes use of Route-Maps\nDoesn’t process packets locally generated by the router itself by default\n\nUse local keyword and apply at global level to enable this\n\nip local policy route-map [route-map name]\n\n\nConditional forwarding of packets based on something other than destination IP\n\nOutgoing int (if point-to-point)\nIP Next Hop\nTCP/UDP Header\n\nDownsides are operational complexity, increased load on router\nCan specify multiple next-hops - when done the first will be used if the next-hop is adjacent, otherwise it will use the second, third, etc\nIf you want to use a non-adjacent route, you must use the recursive flag when configuring the route-map set statement\nConfig options:\n\nset ip next-hop ip-address [ip]\nset ip default next-hop ip-address [ip] - Set next hop IP if there is no explicit route for this destination.\n\nIf destination exists in route table: the command doesn’t policy route, routes based on routing table\nIf destination does not exist in route table: the command policy routes the packet to the next hop.\n\nset interface [interface type] [interface-number] (multiple ints will be tried in turn)\nset default interface [interface type] [interface-number]\n\nUsing the default flag causes next-hop value to be set only for routes not within the router’s RIB\nCan also combine PBR with IP SLA & Tracking to ensure reachability of next-hops",
    "crumbs": [
      "CCNP ENARSI",
      "Layer 3 Technologies",
      "Route Maps & PBR"
    ]
  },
  {
    "objectID": "routemap-pbr.html#policy-based-routing",
    "href": "routemap-pbr.html#policy-based-routing",
    "title": "Route Maps & PBR",
    "section": "",
    "text": "PBR intercept packet before regular routing, INGRESS ONLY\nMakes use of Route-Maps\nDoesn’t process packets locally generated by the router itself by default\n\nUse local keyword and apply at global level to enable this\n\nip local policy route-map [route-map name]\n\n\nConditional forwarding of packets based on something other than destination IP\n\nOutgoing int (if point-to-point)\nIP Next Hop\nTCP/UDP Header\n\nDownsides are operational complexity, increased load on router\nCan specify multiple next-hops - when done the first will be used if the next-hop is adjacent, otherwise it will use the second, third, etc\nIf you want to use a non-adjacent route, you must use the recursive flag when configuring the route-map set statement\nConfig options:\n\nset ip next-hop ip-address [ip]\nset ip default next-hop ip-address [ip] - Set next hop IP if there is no explicit route for this destination.\n\nIf destination exists in route table: the command doesn’t policy route, routes based on routing table\nIf destination does not exist in route table: the command policy routes the packet to the next hop.\n\nset interface [interface type] [interface-number] (multiple ints will be tried in turn)\nset default interface [interface type] [interface-number]\n\nUsing the default flag causes next-hop value to be set only for routes not within the router’s RIB\nCan also combine PBR with IP SLA & Tracking to ensure reachability of next-hops",
    "crumbs": [
      "CCNP ENARSI",
      "Layer 3 Technologies",
      "Route Maps & PBR"
    ]
  },
  {
    "objectID": "routemap-pbr.html#acls",
    "href": "routemap-pbr.html#acls",
    "title": "Route Maps & PBR",
    "section": "ACLs",
    "text": "ACLs\n\nACL Subnet Mask - IGP’s use this to define the smallest prefix length, BGP uses it to match the subnet mask for the route\nStandard ACL (1-99, 1300-1999): Defines based solely on source network\nExtended ACL (100-100, 2000-2699) : Defines based on source, destination, protocol, port or combination of other packet attributes.\nEither can be Named\nipv6 EIGRP distribute-lists can ONLY match on prefix-lists and route-maps (not acls, )",
    "crumbs": [
      "CCNP ENARSI",
      "Layer 3 Technologies",
      "Route Maps & PBR"
    ]
  },
  {
    "objectID": "routemap-pbr.html#route-maps",
    "href": "routemap-pbr.html#route-maps",
    "title": "Route Maps & PBR",
    "section": "Route-Maps",
    "text": "Route-Maps\n\nWhen Multiple Match statements exist in a single RM sequence\n\nIf both statements match different criteria = logical AND\nIf both statements match the same criteria = logical OR\n\nWhen referenced by a Route Map, Permit in ACL means go ahead and process this matched traffic however the route map likes.\nRoute-map goes through sequences until a match is found then stops unless the continue flag is set\nWhen using an ACL the ACL cannot contain time-range, disable-port or log-input.\nClauses Evaluated in this order\n\nset ip next-hop\nset interface\nset ip default next-hop\nset default interface",
    "crumbs": [
      "CCNP ENARSI",
      "Layer 3 Technologies",
      "Route Maps & PBR"
    ]
  },
  {
    "objectID": "routemap-pbr.html#config",
    "href": "routemap-pbr.html#config",
    "title": "Route Maps & PBR",
    "section": "Config",
    "text": "Config\n\nPrefix Lists\nPRefix list matchign default route\n ipv4: ip prefix-list DEFAULTROUTE permit 0.0.0.0/0                          (The quad 0 matches anything the /0 only matches the default route)\n ipv6: ip prefix-list DEFAULTROUTE permit ::/0\n\nPrefix list matching all routes\n ipv4: ip prefix-list ALLROUTES permit 0.0.0.0/0 le32                        (The quad 0 matches anything and the le32 states so long as the mask is less than 32)\n ipv5: ip prefix-list ALLROUTES permit ::/0 le 128\n\n Example\n ip prefix-list DENY_30 deny 0.0.0.0/0 ge30 le30                            - This matches and denies all /30 routes (point-to-point)\n ip prefix-list DENY_30 permit 0.0.0.0/0 le32                               - This matches and permits all other routes.\n\n\nPBR\nip access-list extended PBR_UK\n permit ip 10.44.1.0 0.0.0.255 10.1.0.0 0.0.0.255\n!\nroute-map RM_PBR_GLASGOW permit 10\n match ip address PBR_UK\n set ip [default] next-hop 10.44.255.1 [optional second IP]\n!\ninterface GigabitEthernet0/1\n ip policy route-map RM_PBR_GLASGOW\nPBR with IP SLA & Tracking\nip sla 1\nicmp-echo 10.44.1.1\nip sla schedule 1 life forever start-time now\n!\ntrack 1 ip sla 1 reachability\n!\nip access-list standard ACL\n permit ip 10.1.1.10/32 10.2.2.10/32\n!\nroute-map PBR-NEXTHOP\n match ip address ACL\n set ip next-hop verify-availability 10.44.1.1 track 1\n!\ninterface GigabitEthernet0/1\n ip policy route-map PBR-NEXTHOP",
    "crumbs": [
      "CCNP ENARSI",
      "Layer 3 Technologies",
      "Route Maps & PBR"
    ]
  },
  {
    "objectID": "routemap-pbr.html#useful-show-commands",
    "href": "routemap-pbr.html#useful-show-commands",
    "title": "Route Maps & PBR",
    "section": "Useful Show Commands",
    "text": "Useful Show Commands\n\nshow ip policy\nshow route-map\ntraceroute x.x.x.x\ndebug ip policy",
    "crumbs": [
      "CCNP ENARSI",
      "Layer 3 Technologies",
      "Route Maps & PBR"
    ]
  },
  {
    "objectID": "tools.html",
    "href": "tools.html",
    "title": "Tools",
    "section": "",
    "text": "HE BGP Toolkit - https://bgp.he.net/ Ping Plotter - https://www.pingplotter.com/ Planner 5D - https://planner5d.com/ Ping Tracer - https://github.com/bp2008/pingtracer",
    "crumbs": [
      "Tools"
    ]
  },
  {
    "objectID": "vrf.html",
    "href": "vrf.html",
    "title": "VRF",
    "section": "",
    "text": "Technology which allows logical separation of routing tables on single device.\nRoutes learned from main routing table aren’t learned by vrf tables\nVRF when used with MPLS, VRF-Lite when used without\nFront Door VRFs - FVRF\nFor OSPFv2 you need separate OSPF processes for each VRF\nFor other Protocols - we can have a single process with multiple address families.\n\nCompatible with BGP, EIGRP, OSPF, RIP, Static Routes\nNot Compatible with IGRP, IS-IS",
    "crumbs": [
      "CCNP ENARSI",
      "Layer 3 Technologies",
      "VRF"
    ]
  },
  {
    "objectID": "vrf.html#general-info",
    "href": "vrf.html#general-info",
    "title": "VRF",
    "section": "",
    "text": "Technology which allows logical separation of routing tables on single device.\nRoutes learned from main routing table aren’t learned by vrf tables\nVRF when used with MPLS, VRF-Lite when used without\nFront Door VRFs - FVRF\nFor OSPFv2 you need separate OSPF processes for each VRF\nFor other Protocols - we can have a single process with multiple address families.\n\nCompatible with BGP, EIGRP, OSPF, RIP, Static Routes\nNot Compatible with IGRP, IS-IS",
    "crumbs": [
      "CCNP ENARSI",
      "Layer 3 Technologies",
      "VRF"
    ]
  },
  {
    "objectID": "vrf.html#useful-show-commands-other",
    "href": "vrf.html#useful-show-commands-other",
    "title": "VRF",
    "section": "Useful show commands + other",
    "text": "Useful show commands + other\n\nshow ip vrf / show vrf - shows summary of configured VRFs, including interfaces.\nshow ip vrf detail\nshow ip route vrf [vrf-name] - shows routing table of VRF\nshow ip vrf interfaces / show vrf ipv4 unicast interfaces - shows interfaces in VRF.\nping vrf [name] 10.1.1.1 - ping from specific VRF\nshow ip eigrp vrf [vrf-name] interfaces",
    "crumbs": [
      "CCNP ENARSI",
      "Layer 3 Technologies",
      "VRF"
    ]
  },
  {
    "objectID": "vrf.html#config",
    "href": "vrf.html#config",
    "title": "VRF",
    "section": "Config",
    "text": "Config\nvrf definition Customer-A\n  address-family ipv4\n!\ninterface g0/0\n  vrf forwarding Customer-A\n  ip address 192.0.2.1 255.255.255.0\n!\nrouter eigrp [INE]\n address-family ipv4 unicast vrf [vrf-name] autonomous-system [as]\n  network 0.0.0.0 (all connected networks)\n!\nrouter ospf [as] vrf [vrf-name]\n network 0.0.0.0\n!\nrouter bgp 100\n neighbor 10.1.1.5 remote-as 100\n !\n address-family ipv4 vrf [vrf-name]\n  neighbor 10.1.1.5 activate",
    "crumbs": [
      "CCNP ENARSI",
      "Layer 3 Technologies",
      "VRF"
    ]
  }
]