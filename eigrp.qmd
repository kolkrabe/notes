---
title: "EIGRP"
editor: visual
code-block-bg: dark
---

# General

-   Classic/Named Mode
    -   Classic: Commands under router process + Interfaces
    -   Named: Config in SubSections - Address Family, Interface & Topology
-   AD 90internal, 170External
-   **Hello**'s are Multicast on **224.0.0.10**, port **88**
-   Timers
    -   Hello-default 5 secs),
-   Load balance over unequal paths using `variance` unlike OSPF (equal only)
-   Uses K Values for Metrics (K1-5, Bandwidth, Delay, Reliability, Load, MTU)
    -   Mostly uses

        -   K1 - Bandwidth - slowest in path
        -   K3 - Delay - cumulative
-   Supports VLSM by sending mask
-   Can configure neighbour specifically to use **Unicast**
-   Uses RTP (reliable transport protocol - confirms messages neighbour received messages but not hellow
-   Uses DUAL (Difussing identifies neighbour with lowest Feasible Distance
    -   FD set to **Infinity** to indicate the router is in transition & seeking alternative paths
-   3 Data Structures
    -   `Neighbour Table` - Who our EIGRP neighbours are
    -   `Interface Table` - which interfaces are participating
    -   `Topology Table` - shows routes known to EIGRP
-   Router-ID (highest configured + active Loopback, then any IPv4"
-   Path Selection
    -   **Reported Distance** - cost to destination from neighbouring router
    -   **Feasible Distance** - RD + path cost to get to neighbouring router.
    -   **Successor Route** - the lowest cost path to route
    -   **Successor** - First Hop route on that path
    -   **Feasibility Condition** - That the **RD** must be less than the **FD** (loop prevention)
    -   **Feasible Successor** - route which passes the feasibility condition.

# Features

## Path Selection

-   **Reported Distance** - cost to destination from neighbouring router
-   **Feasible Distance** - RD + path cost to get to neighbouring router.
-   **Successor Route** - the lowest cost path to route
-   **Successor** - First Hop route on that path
-   **Feasibility Condition** - That the **RD** must be less than the **FD** (loop prevention)
-   **Feasible Successor** - route which passes the feasibility condition.

------------------------------------------------------------------------

## Authentication

-   Supports plaintext + hash based auth - MD5 & SHA-256 auth (named) or just MD5 (classic)

-   MD5 configuration done with key chain in global config

-   Key-id numbers must match for successful auth

-   Applied under physical interfaces in classic mode or af-interfaces in named mode

```         
key chain MD5_KEYS  
 key 1   
   key-string MD5_PASS 
! 
router eigrp MULTI-AF  
!  
 address-family ipv4 unicast autonomous-system 100   
  !  
  af-interface default    
   authentication mode hmac-sha-256 SHA_DEFAULT  
  exit-af-interface   
  !   
  af-interface GigabitEthernet1.58
  authentication mode md5    
  authentication key-chain MD5_KEYS   
  exit-af-interface
```

## Route Filtering

route maps in EIGRP?

## Loop Prevention

-   Split-Horizon - stops a route being learned on the interface it was advertised on.

-   Use of Feasibility condition.

-   Can disable on P2P link - `no ip split-horizon eigrp [AS]`

## Redistribution - see redistribution

## Summerization

-   Can be implemented anywhere

-   Manual or Auto (classful).

## Stub

## Stub Site

## Load balancing

## Metrics

------------------------------------------------------------------------

## EIGRP - Traditional IPv4 Configuration

``` default
CLASSIC
router eigrp 10 
network 10.1.1.0 0.0.0.255           - If any interfaces match & configured/up they should participate in EIGRP
network 172.16.1.0 0.0.0.3
network 0.0.0.0 255.255.255.255      - Makes all interfaces participate in EIGRP

moDERN
router eigrp [NAME]
 !
 address-family ipv4 unicast autonomous-system 1
  !
  af-interface default
   passive-interface                 - Sets all intefaces as passive.
  exit-af-interface
  !
  af-interface GigabitEthernet0/1
   no passive-interface               - enables interface for EIGRP
  exit-af-interface
  !
  topology base
  exit-af-topology
  network 10.1.1.2 255.255.255.255
  eigrp router-id 150.1.5.5
 exit-address-family
```

## Useful Show Commands

`show ip route EIGRP` - shows EIGRP routes installed into the RIB

`show ip eigrp interfaces` - shows active EIGRP interfaces

`show ip eigrp topology all-links` - shows all additional paths to network (failed Feasibility Condition)

`show ip protocols` - displays EIGRP process ID, ASN, K values, RID, Neighbours, AD + Passive Ints

Stuck in Active - router sends query about network, doesn't hear back and thinks it's neighbor has died.
